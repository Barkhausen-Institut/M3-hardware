// Generated by CIRCT unknown git version
// Standard header to adapt well known macros to our needs.
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_REG_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_REG_INIT
`endif // not def RANDOMIZE
`ifndef RANDOMIZE
  `ifdef RANDOMIZE_MEM_INIT
    `define RANDOMIZE
  `endif // RANDOMIZE_MEM_INIT
`endif // not def RANDOMIZE

// RANDOM may be set to an expression that produces a 32-bit random unsigned value.
`ifndef RANDOM
  `define RANDOM $random
`endif // not def RANDOM

// Users can define 'PRINTF_COND' to add an extra gate to prints.
`ifndef PRINTF_COND_
  `ifdef PRINTF_COND
    `define PRINTF_COND_ (`PRINTF_COND)
  `else  // PRINTF_COND
    `define PRINTF_COND_ 1
  `endif // PRINTF_COND
`endif // not def PRINTF_COND_

// Users can define 'ASSERT_VERBOSE_COND' to add an extra gate to assert error printing.
`ifndef ASSERT_VERBOSE_COND_
  `ifdef ASSERT_VERBOSE_COND
    `define ASSERT_VERBOSE_COND_ (`ASSERT_VERBOSE_COND)
  `else  // ASSERT_VERBOSE_COND
    `define ASSERT_VERBOSE_COND_ 1
  `endif // ASSERT_VERBOSE_COND
`endif // not def ASSERT_VERBOSE_COND_

// Users can define 'STOP_COND' to add an extra gate to stop conditions.
`ifndef STOP_COND_
  `ifdef STOP_COND
    `define STOP_COND_ (`STOP_COND)
  `else  // STOP_COND
    `define STOP_COND_ 1
  `endif // STOP_COND
`endif // not def STOP_COND_

// Users can define INIT_RANDOM as general code that gets injected into the
// initializer block for modules with registers.
`ifndef INIT_RANDOM
  `define INIT_RANDOM
`endif // not def INIT_RANDOM

// If using random initialization, you can also define RANDOMIZE_DELAY to
// customize the delay used, otherwise 0.002 is used.
`ifndef RANDOMIZE_DELAY
  `define RANDOMIZE_DELAY 0.002
`endif // not def RANDOMIZE_DELAY

// Define INIT_RANDOM_PROLOG_ for use in our modules below.
`ifndef INIT_RANDOM_PROLOG_
  `ifdef RANDOMIZE
    `ifdef VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM
    `else  // VERILATOR
      `define INIT_RANDOM_PROLOG_ `INIT_RANDOM #`RANDOMIZE_DELAY begin end
    `endif // VERILATOR
  `else  // RANDOMIZE
    `define INIT_RANDOM_PROLOG_
  `endif // RANDOMIZE
`endif // not def INIT_RANDOM_PROLOG_

module PTW_boom(
  input         clock,
                reset,
                io_requestor_0_req_valid,
                io_requestor_0_req_bits_valid,
  input  [26:0] io_requestor_0_req_bits_bits_addr,
  input         io_requestor_1_req_valid,
  input  [26:0] io_requestor_1_req_bits_bits_addr,
  input         io_requestor_1_req_bits_bits_need_gpa,
                io_requestor_1_req_bits_bits_vstage1,
                io_requestor_1_req_bits_bits_stage2,
                io_mem_req_ready,
                io_mem_s2_nack,
                io_mem_resp_valid,
  input  [63:0] io_mem_resp_bits_data,
  input         io_mem_s2_xcpt_ae_ld,
  input  [3:0]  io_dpath_ptbr_mode,
  input  [43:0] io_dpath_ptbr_ppn,
  input         io_dpath_sfence_valid,
                io_dpath_sfence_bits_rs1,
                io_dpath_sfence_bits_rs2,
  input  [38:0] io_dpath_sfence_bits_addr,
  input         io_dpath_status_debug,
  input  [1:0]  io_dpath_status_dprv,
                io_dpath_status_prv,
  input         io_dpath_status_mxr,
                io_dpath_status_sum,
                io_dpath_pmp_0_cfg_l,
  input  [1:0]  io_dpath_pmp_0_cfg_a,
  input         io_dpath_pmp_0_cfg_x,
                io_dpath_pmp_0_cfg_w,
                io_dpath_pmp_0_cfg_r,
  input  [29:0] io_dpath_pmp_0_addr,
  input  [31:0] io_dpath_pmp_0_mask,
  input         io_dpath_pmp_1_cfg_l,
  input  [1:0]  io_dpath_pmp_1_cfg_a,
  input         io_dpath_pmp_1_cfg_x,
                io_dpath_pmp_1_cfg_w,
                io_dpath_pmp_1_cfg_r,
  input  [29:0] io_dpath_pmp_1_addr,
  input  [31:0] io_dpath_pmp_1_mask,
  input         io_dpath_pmp_2_cfg_l,
  input  [1:0]  io_dpath_pmp_2_cfg_a,
  input         io_dpath_pmp_2_cfg_x,
                io_dpath_pmp_2_cfg_w,
                io_dpath_pmp_2_cfg_r,
  input  [29:0] io_dpath_pmp_2_addr,
  input  [31:0] io_dpath_pmp_2_mask,
  input         io_dpath_pmp_3_cfg_l,
  input  [1:0]  io_dpath_pmp_3_cfg_a,
  input         io_dpath_pmp_3_cfg_x,
                io_dpath_pmp_3_cfg_w,
                io_dpath_pmp_3_cfg_r,
  input  [29:0] io_dpath_pmp_3_addr,
  input  [31:0] io_dpath_pmp_3_mask,
  input         io_dpath_pmp_4_cfg_l,
  input  [1:0]  io_dpath_pmp_4_cfg_a,
  input         io_dpath_pmp_4_cfg_x,
                io_dpath_pmp_4_cfg_w,
                io_dpath_pmp_4_cfg_r,
  input  [29:0] io_dpath_pmp_4_addr,
  input  [31:0] io_dpath_pmp_4_mask,
  input         io_dpath_pmp_5_cfg_l,
  input  [1:0]  io_dpath_pmp_5_cfg_a,
  input         io_dpath_pmp_5_cfg_x,
                io_dpath_pmp_5_cfg_w,
                io_dpath_pmp_5_cfg_r,
  input  [29:0] io_dpath_pmp_5_addr,
  input  [31:0] io_dpath_pmp_5_mask,
  input         io_dpath_pmp_6_cfg_l,
  input  [1:0]  io_dpath_pmp_6_cfg_a,
  input         io_dpath_pmp_6_cfg_x,
                io_dpath_pmp_6_cfg_w,
                io_dpath_pmp_6_cfg_r,
  input  [29:0] io_dpath_pmp_6_addr,
  input  [31:0] io_dpath_pmp_6_mask,
  input         io_dpath_pmp_7_cfg_l,
  input  [1:0]  io_dpath_pmp_7_cfg_a,
  input         io_dpath_pmp_7_cfg_x,
                io_dpath_pmp_7_cfg_w,
                io_dpath_pmp_7_cfg_r,
  input  [29:0] io_dpath_pmp_7_addr,
  input  [31:0] io_dpath_pmp_7_mask,
  output        io_requestor_0_req_ready,
                io_requestor_0_resp_valid,
                io_requestor_0_resp_bits_ae_final,
  output [43:0] io_requestor_0_resp_bits_pte_ppn,
  output        io_requestor_0_resp_bits_pte_d,
                io_requestor_0_resp_bits_pte_a,
                io_requestor_0_resp_bits_pte_g,
                io_requestor_0_resp_bits_pte_u,
                io_requestor_0_resp_bits_pte_x,
                io_requestor_0_resp_bits_pte_w,
                io_requestor_0_resp_bits_pte_r,
                io_requestor_0_resp_bits_pte_v,
  output [1:0]  io_requestor_0_resp_bits_level,
  output        io_requestor_0_resp_bits_homogeneous,
  output [3:0]  io_requestor_0_ptbr_mode,
  output [1:0]  io_requestor_0_status_dprv,
  output        io_requestor_0_status_mxr,
                io_requestor_0_status_sum,
                io_requestor_0_pmp_0_cfg_l,
  output [1:0]  io_requestor_0_pmp_0_cfg_a,
  output        io_requestor_0_pmp_0_cfg_x,
                io_requestor_0_pmp_0_cfg_w,
                io_requestor_0_pmp_0_cfg_r,
  output [29:0] io_requestor_0_pmp_0_addr,
  output [31:0] io_requestor_0_pmp_0_mask,
  output        io_requestor_0_pmp_1_cfg_l,
  output [1:0]  io_requestor_0_pmp_1_cfg_a,
  output        io_requestor_0_pmp_1_cfg_x,
                io_requestor_0_pmp_1_cfg_w,
                io_requestor_0_pmp_1_cfg_r,
  output [29:0] io_requestor_0_pmp_1_addr,
  output [31:0] io_requestor_0_pmp_1_mask,
  output        io_requestor_0_pmp_2_cfg_l,
  output [1:0]  io_requestor_0_pmp_2_cfg_a,
  output        io_requestor_0_pmp_2_cfg_x,
                io_requestor_0_pmp_2_cfg_w,
                io_requestor_0_pmp_2_cfg_r,
  output [29:0] io_requestor_0_pmp_2_addr,
  output [31:0] io_requestor_0_pmp_2_mask,
  output        io_requestor_0_pmp_3_cfg_l,
  output [1:0]  io_requestor_0_pmp_3_cfg_a,
  output        io_requestor_0_pmp_3_cfg_x,
                io_requestor_0_pmp_3_cfg_w,
                io_requestor_0_pmp_3_cfg_r,
  output [29:0] io_requestor_0_pmp_3_addr,
  output [31:0] io_requestor_0_pmp_3_mask,
  output        io_requestor_0_pmp_4_cfg_l,
  output [1:0]  io_requestor_0_pmp_4_cfg_a,
  output        io_requestor_0_pmp_4_cfg_x,
                io_requestor_0_pmp_4_cfg_w,
                io_requestor_0_pmp_4_cfg_r,
  output [29:0] io_requestor_0_pmp_4_addr,
  output [31:0] io_requestor_0_pmp_4_mask,
  output        io_requestor_0_pmp_5_cfg_l,
  output [1:0]  io_requestor_0_pmp_5_cfg_a,
  output        io_requestor_0_pmp_5_cfg_x,
                io_requestor_0_pmp_5_cfg_w,
                io_requestor_0_pmp_5_cfg_r,
  output [29:0] io_requestor_0_pmp_5_addr,
  output [31:0] io_requestor_0_pmp_5_mask,
  output        io_requestor_0_pmp_6_cfg_l,
  output [1:0]  io_requestor_0_pmp_6_cfg_a,
  output        io_requestor_0_pmp_6_cfg_x,
                io_requestor_0_pmp_6_cfg_w,
                io_requestor_0_pmp_6_cfg_r,
  output [29:0] io_requestor_0_pmp_6_addr,
  output [31:0] io_requestor_0_pmp_6_mask,
  output        io_requestor_0_pmp_7_cfg_l,
  output [1:0]  io_requestor_0_pmp_7_cfg_a,
  output        io_requestor_0_pmp_7_cfg_x,
                io_requestor_0_pmp_7_cfg_w,
                io_requestor_0_pmp_7_cfg_r,
  output [29:0] io_requestor_0_pmp_7_addr,
  output [31:0] io_requestor_0_pmp_7_mask,
  output        io_requestor_1_req_ready,
                io_requestor_1_resp_valid,
                io_requestor_1_resp_bits_ae_ptw,
                io_requestor_1_resp_bits_ae_final,
                io_requestor_1_resp_bits_pf,
                io_requestor_1_resp_bits_gf,
                io_requestor_1_resp_bits_hr,
                io_requestor_1_resp_bits_hw,
                io_requestor_1_resp_bits_hx,
  output [43:0] io_requestor_1_resp_bits_pte_ppn,
  output        io_requestor_1_resp_bits_pte_d,
                io_requestor_1_resp_bits_pte_a,
                io_requestor_1_resp_bits_pte_g,
                io_requestor_1_resp_bits_pte_u,
                io_requestor_1_resp_bits_pte_x,
                io_requestor_1_resp_bits_pte_w,
                io_requestor_1_resp_bits_pte_r,
                io_requestor_1_resp_bits_pte_v,
  output [1:0]  io_requestor_1_resp_bits_level,
  output        io_requestor_1_resp_bits_homogeneous,
  output [3:0]  io_requestor_1_ptbr_mode,
  output        io_requestor_1_status_debug,
  output [1:0]  io_requestor_1_status_prv,
  output        io_requestor_1_pmp_0_cfg_l,
  output [1:0]  io_requestor_1_pmp_0_cfg_a,
  output        io_requestor_1_pmp_0_cfg_x,
                io_requestor_1_pmp_0_cfg_w,
                io_requestor_1_pmp_0_cfg_r,
  output [29:0] io_requestor_1_pmp_0_addr,
  output [31:0] io_requestor_1_pmp_0_mask,
  output        io_requestor_1_pmp_1_cfg_l,
  output [1:0]  io_requestor_1_pmp_1_cfg_a,
  output        io_requestor_1_pmp_1_cfg_x,
                io_requestor_1_pmp_1_cfg_w,
                io_requestor_1_pmp_1_cfg_r,
  output [29:0] io_requestor_1_pmp_1_addr,
  output [31:0] io_requestor_1_pmp_1_mask,
  output        io_requestor_1_pmp_2_cfg_l,
  output [1:0]  io_requestor_1_pmp_2_cfg_a,
  output        io_requestor_1_pmp_2_cfg_x,
                io_requestor_1_pmp_2_cfg_w,
                io_requestor_1_pmp_2_cfg_r,
  output [29:0] io_requestor_1_pmp_2_addr,
  output [31:0] io_requestor_1_pmp_2_mask,
  output        io_requestor_1_pmp_3_cfg_l,
  output [1:0]  io_requestor_1_pmp_3_cfg_a,
  output        io_requestor_1_pmp_3_cfg_x,
                io_requestor_1_pmp_3_cfg_w,
                io_requestor_1_pmp_3_cfg_r,
  output [29:0] io_requestor_1_pmp_3_addr,
  output [31:0] io_requestor_1_pmp_3_mask,
  output        io_requestor_1_pmp_4_cfg_l,
  output [1:0]  io_requestor_1_pmp_4_cfg_a,
  output        io_requestor_1_pmp_4_cfg_x,
                io_requestor_1_pmp_4_cfg_w,
                io_requestor_1_pmp_4_cfg_r,
  output [29:0] io_requestor_1_pmp_4_addr,
  output [31:0] io_requestor_1_pmp_4_mask,
  output        io_requestor_1_pmp_5_cfg_l,
  output [1:0]  io_requestor_1_pmp_5_cfg_a,
  output        io_requestor_1_pmp_5_cfg_x,
                io_requestor_1_pmp_5_cfg_w,
                io_requestor_1_pmp_5_cfg_r,
  output [29:0] io_requestor_1_pmp_5_addr,
  output [31:0] io_requestor_1_pmp_5_mask,
  output        io_requestor_1_pmp_6_cfg_l,
  output [1:0]  io_requestor_1_pmp_6_cfg_a,
  output        io_requestor_1_pmp_6_cfg_x,
                io_requestor_1_pmp_6_cfg_w,
                io_requestor_1_pmp_6_cfg_r,
  output [29:0] io_requestor_1_pmp_6_addr,
  output [31:0] io_requestor_1_pmp_6_mask,
  output        io_requestor_1_pmp_7_cfg_l,
  output [1:0]  io_requestor_1_pmp_7_cfg_a,
  output        io_requestor_1_pmp_7_cfg_x,
                io_requestor_1_pmp_7_cfg_w,
                io_requestor_1_pmp_7_cfg_r,
  output [29:0] io_requestor_1_pmp_7_addr,
  output [31:0] io_requestor_1_pmp_7_mask,
  output        io_mem_req_valid,
  output [39:0] io_mem_req_bits_addr,
  output        io_mem_s1_kill,
                io_dpath_perf_l2miss
);

  wire            do_switch;	// @[PTW.scala:583:30, :689:25, :692:21]
  wire [8:0]      _T_180;	// @[PTW.scala:484:54]
  wire            readEnable;	// @[PTW.scala:479:31]
  wire            writeEnable;	// @[PTW.scala:445:21]
  wire [8:0]      writeAddr;	// @[package.scala:155:13]
  reg             l2_refill;	// @[PTW.scala:410:26]
  wire [43:0]     _r_pte_barrier_io_y_ppn;	// @[package.scala:259:25]
  wire            _r_pte_barrier_io_y_d;	// @[package.scala:259:25]
  wire            _r_pte_barrier_io_y_a;	// @[package.scala:259:25]
  wire            _r_pte_barrier_io_y_g;	// @[package.scala:259:25]
  wire            _r_pte_barrier_io_y_u;	// @[package.scala:259:25]
  wire            _r_pte_barrier_io_y_x;	// @[package.scala:259:25]
  wire            _r_pte_barrier_io_y_w;	// @[package.scala:259:25]
  wire            _r_pte_barrier_io_y_r;	// @[package.scala:259:25]
  wire            _r_pte_barrier_io_y_v;	// @[package.scala:259:25]
  wire [2:0]      _state_barrier_io_y;	// @[package.scala:259:25]
  wire [44:0]     _l2_tlb_ram_0_RW0_rdata;	// @[DescribedSRAM.scala:17:26]
  wire            _arb_io_out_valid;	// @[PTW.scala:236:19]
  wire            _arb_io_out_bits_valid;	// @[PTW.scala:236:19]
  wire [26:0]     _arb_io_out_bits_bits_addr;	// @[PTW.scala:236:19]
  wire            _arb_io_out_bits_bits_need_gpa;	// @[PTW.scala:236:19]
  wire            _arb_io_out_bits_bits_vstage1;	// @[PTW.scala:236:19]
  wire            _arb_io_out_bits_bits_stage2;	// @[PTW.scala:236:19]
  wire [1:0]      _arb_io_chosen;	// @[PTW.scala:236:19]
  reg  [2:0]      state;	// @[PTW.scala:233:22]
  wire            _T_203 = state == 3'h0;	// @[PTW.scala:233:22, :240:30]
  wire            _arb_io_out_ready_T_2 = _T_203 & ~l2_refill;	// @[PTW.scala:240:{30,43,46}, :410:26]
  reg             resp_valid_0;	// @[PTW.scala:242:27]
  reg             resp_valid_1;	// @[PTW.scala:242:27]
  reg             invalidated;	// @[PTW.scala:251:24]
  reg  [1:0]      count;	// @[PTW.scala:259:18]
  reg             resp_ae_ptw;	// @[PTW.scala:260:24]
  reg             resp_ae_final;	// @[PTW.scala:261:26]
  reg             resp_pf;	// @[PTW.scala:262:20]
  reg             resp_gf;	// @[PTW.scala:263:20]
  reg             resp_hr;	// @[PTW.scala:264:20]
  reg             resp_hw;	// @[PTW.scala:265:20]
  reg             resp_hx;	// @[PTW.scala:266:20]
  reg  [26:0]     r_req_addr;	// @[PTW.scala:270:18]
  reg             r_req_need_gpa;	// @[PTW.scala:270:18]
  reg             r_req_vstage1;	// @[PTW.scala:270:18]
  reg             r_req_stage2;	// @[PTW.scala:270:18]
  reg  [1:0]      r_req_dest;	// @[PTW.scala:272:23]
  reg  [43:0]     r_pte_ppn;	// @[PTW.scala:275:18]
  reg             r_pte_d;	// @[PTW.scala:275:18]
  reg             r_pte_a;	// @[PTW.scala:275:18]
  reg             r_pte_g;	// @[PTW.scala:275:18]
  reg             r_pte_u;	// @[PTW.scala:275:18]
  reg             r_pte_x;	// @[PTW.scala:275:18]
  reg             r_pte_w;	// @[PTW.scala:275:18]
  reg             r_pte_r;	// @[PTW.scala:275:18]
  reg             r_pte_v;	// @[PTW.scala:275:18]
  reg  [43:0]     r_hgatp_ppn;	// @[PTW.scala:276:20]
  reg  [1:0]      aux_count;	// @[PTW.scala:278:22]
  reg  [43:0]     aux_pte_ppn;	// @[PTW.scala:280:20]
  reg             aux_pte_d;	// @[PTW.scala:280:20]
  reg             aux_pte_a;	// @[PTW.scala:280:20]
  reg             aux_pte_g;	// @[PTW.scala:280:20]
  reg             aux_pte_u;	// @[PTW.scala:280:20]
  reg             aux_pte_x;	// @[PTW.scala:280:20]
  reg             aux_pte_w;	// @[PTW.scala:280:20]
  reg             aux_pte_r;	// @[PTW.scala:280:20]
  reg             aux_pte_v;	// @[PTW.scala:280:20]
  reg             stage2;	// @[PTW.scala:283:19]
  reg             stage2_final;	// @[PTW.scala:284:25]
  wire            do_both_stages = r_req_vstage1 & r_req_stage2;	// @[PTW.scala:270:18, :289:38]
  wire            _max_count_T = count < aux_count;	// @[PTW.scala:259:18, :278:22, :290:25]
  wire [1:0]      max_count = _max_count_T ? aux_count : count;	// @[PTW.scala:259:18, :278:22, :290:25]
  wire [26:0]     _GEN = r_req_vstage1 & stage2 ? aux_pte_ppn[26:0] : r_req_addr;	// @[PTW.scala:270:18, :280:20, :283:19, :291:{16,31}]
  reg             mem_resp_valid;	// @[PTW.scala:293:31]
  reg  [63:0]     mem_resp_data;	// @[PTW.scala:294:30]
  wire [26:0]     _T_15 = do_both_stages & ~stage2 ? mem_resp_data[36:10] : {7'h0, mem_resp_data[29:10]};	// @[PTW.scala:283:19, :289:38, :294:30, :307:{19,35,38,54,99}]
  wire            aux_pte_pte_v = ~((mem_resp_data[1] | mem_resp_data[2] | mem_resp_data[3]) & (~(count[1]) & (|(mem_resp_data[18:10])) | count == 2'h0 & (|(mem_resp_data[27:19])))) & mem_resp_data[0];	// @[PTW.scala:259:18, :294:30, :305:37, :306:26, :308:{26,36}, :311:{21,28,38,97,106,114}]
  wire            invalid_paddr = do_both_stages & ~stage2 ? (|(mem_resp_data[53:37])) : (|(mem_resp_data[53:30]));	// @[PTW.scala:283:19, :289:38, :294:30, :307:38, :313:{14,30,51,63,81,93}]
  wire            traverse = aux_pte_pte_v & ~(mem_resp_data[1]) & ~(mem_resp_data[2]) & ~(mem_resp_data[3]) & ~(mem_resp_data[7]) & ~(mem_resp_data[6]) & ~(mem_resp_data[4]) & mem_resp_data[63:54] == 10'h0 & ~invalid_paddr & ~(count[1]);	// @[PTW.scala:139:{36,42,48,54,60,66,92}, :259:18, :294:30, :305:37, :306:26, :308:36, :311:{21,106,114}, :313:14, :316:{33,48,57}]
  wire            _leaf_T_5 = count == 2'h1;	// @[PTW.scala:259:18, :644:32, package.scala:33:86]
  wire            _T_300 = count == 2'h2;	// @[PTW.scala:259:18, package.scala:33:86]
  wire            _GEN_0 = (&count) | _T_300;	// @[PTW.scala:259:18, package.scala:33:{76,86}]
  wire [8:0]      pte_addr_vpn_idx = _GEN_0 ? _GEN[8:0] : _leaf_T_5 ? _GEN[17:9] : _GEN[26:18];	// @[PTW.scala:291:16, :321:{12,48}, package.scala:33:{76,86}]
  reg  [6:0]      state_reg;	// @[Replacement.scala:168:70]
  reg  [7:0]      valid;	// @[PTW.scala:364:24]
  reg  [31:0]     tags_0;	// @[PTW.scala:365:19]
  reg  [31:0]     tags_1;	// @[PTW.scala:365:19]
  reg  [31:0]     tags_2;	// @[PTW.scala:365:19]
  reg  [31:0]     tags_3;	// @[PTW.scala:365:19]
  reg  [31:0]     tags_4;	// @[PTW.scala:365:19]
  reg  [31:0]     tags_5;	// @[PTW.scala:365:19]
  reg  [31:0]     tags_6;	// @[PTW.scala:365:19]
  reg  [31:0]     tags_7;	// @[PTW.scala:365:19]
  reg  [19:0]     data_0;	// @[PTW.scala:367:19]
  reg  [19:0]     data_1;	// @[PTW.scala:367:19]
  reg  [19:0]     data_2;	// @[PTW.scala:367:19]
  reg  [19:0]     data_3;	// @[PTW.scala:367:19]
  reg  [19:0]     data_4;	// @[PTW.scala:367:19]
  reg  [19:0]     data_5;	// @[PTW.scala:367:19]
  reg  [19:0]     data_6;	// @[PTW.scala:367:19]
  reg  [19:0]     data_7;	// @[PTW.scala:367:19]
  wire            can_hit = ~(count[1]) & (r_req_vstage1 ? stage2 : ~r_req_stage2);	// @[PTW.scala:259:18, :270:18, :283:19, :311:21, :316:57, :370:{35,41,65}]
  wire [32:0]     tag = {r_req_vstage1, r_pte_ppn[19:0], pte_addr_vpn_idx, 3'h0};	// @[Cat.scala:33:92, PTW.scala:233:22, :270:18, :275:18, :329:23, package.scala:33:76]
  wire [7:0]      hits = {{1'h0, tags_7} == tag, {1'h0, tags_6} == tag, {1'h0, tags_5} == tag, {1'h0, tags_4} == tag, {1'h0, tags_3} == tag, {1'h0, tags_2} == tag, {1'h0, tags_1} == tag, {1'h0, tags_0} == tag} & valid;	// @[Cat.scala:33:92, PTW.scala:364:24, :365:19, :378:{27,43}]
  wire            pte_cache_hit = (|hits) & can_hit;	// @[PTW.scala:370:35, :378:43, :379:{20,24}]
  wire            _T_223 = state == 3'h1;	// @[PTW.scala:233:22, :384:15, :389:24]
  reg  [6:0]      state_reg_1;	// @[Replacement.scala:168:70]
  reg  [7:0]      valid_1;	// @[PTW.scala:364:24]
  reg  [31:0]     tags_1_0;	// @[PTW.scala:365:19]
  reg  [31:0]     tags_1_1;	// @[PTW.scala:365:19]
  reg  [31:0]     tags_1_2;	// @[PTW.scala:365:19]
  reg  [31:0]     tags_1_3;	// @[PTW.scala:365:19]
  reg  [31:0]     tags_1_4;	// @[PTW.scala:365:19]
  reg  [31:0]     tags_1_5;	// @[PTW.scala:365:19]
  reg  [31:0]     tags_1_6;	// @[PTW.scala:365:19]
  reg  [31:0]     tags_1_7;	// @[PTW.scala:365:19]
  reg  [19:0]     data_1_0;	// @[PTW.scala:367:19]
  reg  [19:0]     data_1_1;	// @[PTW.scala:367:19]
  reg  [19:0]     data_1_2;	// @[PTW.scala:367:19]
  reg  [19:0]     data_1_3;	// @[PTW.scala:367:19]
  reg  [19:0]     data_1_4;	// @[PTW.scala:367:19]
  reg  [19:0]     data_1_5;	// @[PTW.scala:367:19]
  reg  [19:0]     data_1_6;	// @[PTW.scala:367:19]
  reg  [19:0]     data_1_7;	// @[PTW.scala:367:19]
  reg             pte_hit;	// @[PTW.scala:404:24]
  reg  [511:0]    REG_0;	// @[PTW.scala:433:16]
  reg  [511:0]    REG_1_0;	// @[PTW.scala:434:24]
  assign writeAddr = r_req_addr[8:0];	// @[PTW.scala:270:18, package.scala:155:13]
  assign writeEnable = l2_refill & ~invalidated;	// @[PTW.scala:251:24, :381:68, :410:26, :445:21]
  wire            _r_pte_T_23 = _arb_io_out_ready_T_2 & _arb_io_out_valid;	// @[Decoupled.scala:51:35, PTW.scala:236:19, :240:43]
  assign readEnable = ~l2_refill & _r_pte_T_23;	// @[Decoupled.scala:51:35, PTW.scala:410:26, :479:{20,31}]
  reg             REG_4;	// @[PTW.scala:481:27]
  reg             REG_5;	// @[PTW.scala:482:27]
  assign _T_180 = _arb_io_out_bits_bits_addr[8:0];	// @[PTW.scala:236:19, :484:54]
  reg  [44:0]     r_2;	// @[Reg.scala:19:16]
  reg             r_3;	// @[Reg.scala:19:16]
  reg             r_4_0;	// @[Reg.scala:19:16]
  wire            l2_error = r_3 & ^r_2;	// @[ECC.scala:78:27, PTW.scala:488:81, Reg.scala:19:16]
  wire            _T_197 = r_3 & {r_req_vstage1, r_req_addr[26:9]} == {1'h0, r_2[43:26]};	// @[PTW.scala:270:18, :491:59, :492:{83,93}, Reg.scala:19:16, package.scala:155:13]
  wire            l2_hit = REG_5 & _T_197;	// @[PTW.scala:482:27, :492:83, :493:27]
  wire [55:0]     _pmpHomogeneous_T = {r_pte_ppn, 12'h0};	// @[PTW.scala:275:18, :546:88]
  wire [55:0]     _GEN_1 = {24'h0, io_dpath_pmp_0_addr, 2'h0};	// @[PMP.scala:107:32, PTW.scala:313:93]
  wire [31:0]     pmpHomogeneous_pgMask = _GEN_0 ? 32'hFFFFF000 : _leaf_T_5 ? 32'hFFE00000 : 32'hC0000000;	// @[Parameters.scala:137:31, package.scala:33:{76,86}]
  wire [55:0]     _GEN_2 = {24'h0, io_dpath_pmp_1_addr, 2'h0};	// @[PMP.scala:107:32, PTW.scala:313:93]
  wire [31:0]     pmpHomogeneous_pgMask_1 = _GEN_0 ? 32'hFFFFF000 : _leaf_T_5 ? 32'hFFE00000 : 32'hC0000000;	// @[Parameters.scala:137:31, package.scala:33:{76,86}]
  wire [55:0]     _pmpHomogeneous_endsBeforeUpper_T_6 = _pmpHomogeneous_T & {24'h0, pmpHomogeneous_pgMask_1};	// @[PMP.scala:110:30, PTW.scala:313:93, :546:88, package.scala:33:76]
  wire [55:0]     _GEN_3 = {24'h0, io_dpath_pmp_2_addr, 2'h0};	// @[PMP.scala:107:32, PTW.scala:313:93]
  wire [31:0]     pmpHomogeneous_pgMask_2 = _GEN_0 ? 32'hFFFFF000 : _leaf_T_5 ? 32'hFFE00000 : 32'hC0000000;	// @[Parameters.scala:137:31, package.scala:33:{76,86}]
  wire [55:0]     _pmpHomogeneous_endsBeforeUpper_T_12 = _pmpHomogeneous_T & {24'h0, pmpHomogeneous_pgMask_2};	// @[PMP.scala:110:30, PTW.scala:313:93, :546:88, package.scala:33:76]
  wire [55:0]     _GEN_4 = {24'h0, io_dpath_pmp_3_addr, 2'h0};	// @[PMP.scala:107:32, PTW.scala:313:93]
  wire [31:0]     pmpHomogeneous_pgMask_3 = _GEN_0 ? 32'hFFFFF000 : _leaf_T_5 ? 32'hFFE00000 : 32'hC0000000;	// @[Parameters.scala:137:31, package.scala:33:{76,86}]
  wire [55:0]     _pmpHomogeneous_endsBeforeUpper_T_18 = _pmpHomogeneous_T & {24'h0, pmpHomogeneous_pgMask_3};	// @[PMP.scala:110:30, PTW.scala:313:93, :546:88, package.scala:33:76]
  wire [55:0]     _GEN_5 = {24'h0, io_dpath_pmp_4_addr, 2'h0};	// @[PMP.scala:107:32, PTW.scala:313:93]
  wire [31:0]     pmpHomogeneous_pgMask_4 = _GEN_0 ? 32'hFFFFF000 : _leaf_T_5 ? 32'hFFE00000 : 32'hC0000000;	// @[Parameters.scala:137:31, package.scala:33:{76,86}]
  wire [55:0]     _pmpHomogeneous_endsBeforeUpper_T_24 = _pmpHomogeneous_T & {24'h0, pmpHomogeneous_pgMask_4};	// @[PMP.scala:110:30, PTW.scala:313:93, :546:88, package.scala:33:76]
  wire [55:0]     _GEN_6 = {24'h0, io_dpath_pmp_5_addr, 2'h0};	// @[PMP.scala:107:32, PTW.scala:313:93]
  wire [31:0]     pmpHomogeneous_pgMask_5 = _GEN_0 ? 32'hFFFFF000 : _leaf_T_5 ? 32'hFFE00000 : 32'hC0000000;	// @[Parameters.scala:137:31, package.scala:33:{76,86}]
  wire [55:0]     _pmpHomogeneous_endsBeforeUpper_T_30 = _pmpHomogeneous_T & {24'h0, pmpHomogeneous_pgMask_5};	// @[PMP.scala:110:30, PTW.scala:313:93, :546:88, package.scala:33:76]
  wire [55:0]     _GEN_7 = {24'h0, io_dpath_pmp_6_addr, 2'h0};	// @[PMP.scala:107:32, PTW.scala:313:93]
  wire [31:0]     pmpHomogeneous_pgMask_6 = _GEN_0 ? 32'hFFFFF000 : _leaf_T_5 ? 32'hFFE00000 : 32'hC0000000;	// @[Parameters.scala:137:31, package.scala:33:{76,86}]
  wire [55:0]     _pmpHomogeneous_endsBeforeUpper_T_36 = _pmpHomogeneous_T & {24'h0, pmpHomogeneous_pgMask_6};	// @[PMP.scala:110:30, PTW.scala:313:93, :546:88, package.scala:33:76]
  wire [31:0]     pmpHomogeneous_pgMask_7 = _GEN_0 ? 32'hFFFFF000 : _leaf_T_5 ? 32'hFFE00000 : 32'hC0000000;	// @[Parameters.scala:137:31, package.scala:33:{76,86}]
  wire [55:0]     _pmpHomogeneous_endsBeforeUpper_T_42 = _pmpHomogeneous_T & {24'h0, pmpHomogeneous_pgMask_7};	// @[PMP.scala:110:30, PTW.scala:313:93, :546:88, package.scala:33:76]
  wire            homogeneous =
    (_GEN_0 ? {r_pte_ppn[43:3], r_pte_ppn[1:0]} == 43'h0 | r_pte_ppn == 44'h3 | r_pte_ppn[43:4] == 40'h1 | {r_pte_ppn[43:5] ^ 39'h8, r_pte_ppn[3:0]} == 43'h0 | r_pte_ppn[43:4] == 40'h200 | r_pte_ppn == 44'h2010 | r_pte_ppn == 44'h4000 | r_pte_ppn[43:14] == 30'h3 | r_pte_ppn[43:16] == 28'h1 | r_pte_ppn[43:17] == 27'h1 | r_pte_ppn[43:18] == 26'h1 | r_pte_ppn[43:19] == 25'h1 : _leaf_T_5 ? r_pte_ppn[43:14] == 30'h3 | r_pte_ppn[43:16] == 28'h1 | r_pte_ppn[43:17] == 27'h1 | r_pte_ppn[43:18] == 26'h1 | r_pte_ppn[43:19] == 25'h1 : r_pte_ppn[43:18] == 26'h1 | r_pte_ppn[43:18] == 26'h2) & (io_dpath_pmp_0_cfg_a[1] ? (_GEN_0 ? io_dpath_pmp_0_mask[11] : _leaf_T_5 ? io_dpath_pmp_0_mask[20] : io_dpath_pmp_0_mask[29]) | (_GEN_0 ? (|(r_pte_ppn ^ {24'h0, io_dpath_pmp_0_addr[29:10]})) : _leaf_T_5 ? (|(r_pte_ppn[43:9] ^ {24'h0, io_dpath_pmp_0_addr[29:19]})) : (|(r_pte_ppn[43:18] ^ {24'h0, io_dpath_pmp_0_addr[29:28]}))) : ~(io_dpath_pmp_0_cfg_a[0]) | _pmpHomogeneous_T >= _GEN_1 | (_pmpHomogeneous_T & {24'h0, pmpHomogeneous_pgMask}) < {24'h0, {io_dpath_pmp_0_addr, 2'h0} & pmpHomogeneous_pgMask}) & (io_dpath_pmp_1_cfg_a[1] ? (_GEN_0 ? io_dpath_pmp_1_mask[11] : _leaf_T_5 ? io_dpath_pmp_1_mask[20] : io_dpath_pmp_1_mask[29]) | (_GEN_0 ? (|(r_pte_ppn ^ {24'h0, io_dpath_pmp_1_addr[29:10]})) : _leaf_T_5 ? (|(r_pte_ppn[43:9] ^ {24'h0, io_dpath_pmp_1_addr[29:19]})) : (|(r_pte_ppn[43:18] ^ {24'h0, io_dpath_pmp_1_addr[29:28]}))) : ~(io_dpath_pmp_1_cfg_a[0]) | _pmpHomogeneous_endsBeforeUpper_T_6 < {24'h0, {io_dpath_pmp_0_addr, 2'h0} & pmpHomogeneous_pgMask_1} | _pmpHomogeneous_T >= _GEN_2 | _pmpHomogeneous_T >= _GEN_1 & _pmpHomogeneous_endsBeforeUpper_T_6 < {24'h0, {io_dpath_pmp_1_addr, 2'h0} & pmpHomogeneous_pgMask_1})
    & (io_dpath_pmp_2_cfg_a[1] ? (_GEN_0 ? io_dpath_pmp_2_mask[11] : _leaf_T_5 ? io_dpath_pmp_2_mask[20] : io_dpath_pmp_2_mask[29]) | (_GEN_0 ? (|(r_pte_ppn ^ {24'h0, io_dpath_pmp_2_addr[29:10]})) : _leaf_T_5 ? (|(r_pte_ppn[43:9] ^ {24'h0, io_dpath_pmp_2_addr[29:19]})) : (|(r_pte_ppn[43:18] ^ {24'h0, io_dpath_pmp_2_addr[29:28]}))) : ~(io_dpath_pmp_2_cfg_a[0]) | _pmpHomogeneous_endsBeforeUpper_T_12 < {24'h0, {io_dpath_pmp_1_addr, 2'h0} & pmpHomogeneous_pgMask_2} | _pmpHomogeneous_T >= _GEN_3 | _pmpHomogeneous_T >= _GEN_2 & _pmpHomogeneous_endsBeforeUpper_T_12 < {24'h0, {io_dpath_pmp_2_addr, 2'h0} & pmpHomogeneous_pgMask_2}) & (io_dpath_pmp_3_cfg_a[1] ? (_GEN_0 ? io_dpath_pmp_3_mask[11] : _leaf_T_5 ? io_dpath_pmp_3_mask[20] : io_dpath_pmp_3_mask[29]) | (_GEN_0 ? (|(r_pte_ppn ^ {24'h0, io_dpath_pmp_3_addr[29:10]})) : _leaf_T_5 ? (|(r_pte_ppn[43:9] ^ {24'h0, io_dpath_pmp_3_addr[29:19]})) : (|(r_pte_ppn[43:18] ^ {24'h0, io_dpath_pmp_3_addr[29:28]}))) : ~(io_dpath_pmp_3_cfg_a[0]) | _pmpHomogeneous_endsBeforeUpper_T_18 < {24'h0, {io_dpath_pmp_2_addr, 2'h0} & pmpHomogeneous_pgMask_3} | _pmpHomogeneous_T >= _GEN_4 | _pmpHomogeneous_T >= _GEN_3 & _pmpHomogeneous_endsBeforeUpper_T_18 < {24'h0, {io_dpath_pmp_3_addr, 2'h0} & pmpHomogeneous_pgMask_3}) & (io_dpath_pmp_4_cfg_a[1] ? (_GEN_0 ? io_dpath_pmp_4_mask[11] : _leaf_T_5 ? io_dpath_pmp_4_mask[20] : io_dpath_pmp_4_mask[29]) | (_GEN_0 ? (|(r_pte_ppn ^ {24'h0, io_dpath_pmp_4_addr[29:10]})) : _leaf_T_5 ? (|(r_pte_ppn[43:9] ^ {24'h0, io_dpath_pmp_4_addr[29:19]})) : (|(r_pte_ppn[43:18] ^ {24'h0, io_dpath_pmp_4_addr[29:28]}))) : ~(io_dpath_pmp_4_cfg_a[0]) | _pmpHomogeneous_endsBeforeUpper_T_24 < {24'h0, {io_dpath_pmp_3_addr, 2'h0} & pmpHomogeneous_pgMask_4} | _pmpHomogeneous_T >= _GEN_5 | _pmpHomogeneous_T >= _GEN_4 & _pmpHomogeneous_endsBeforeUpper_T_24 < {24'h0, {io_dpath_pmp_4_addr, 2'h0} & pmpHomogeneous_pgMask_4})
    & (io_dpath_pmp_5_cfg_a[1] ? (_GEN_0 ? io_dpath_pmp_5_mask[11] : _leaf_T_5 ? io_dpath_pmp_5_mask[20] : io_dpath_pmp_5_mask[29]) | (_GEN_0 ? (|(r_pte_ppn ^ {24'h0, io_dpath_pmp_5_addr[29:10]})) : _leaf_T_5 ? (|(r_pte_ppn[43:9] ^ {24'h0, io_dpath_pmp_5_addr[29:19]})) : (|(r_pte_ppn[43:18] ^ {24'h0, io_dpath_pmp_5_addr[29:28]}))) : ~(io_dpath_pmp_5_cfg_a[0]) | _pmpHomogeneous_endsBeforeUpper_T_30 < {24'h0, {io_dpath_pmp_4_addr, 2'h0} & pmpHomogeneous_pgMask_5} | _pmpHomogeneous_T >= _GEN_6 | _pmpHomogeneous_T >= _GEN_5 & _pmpHomogeneous_endsBeforeUpper_T_30 < {24'h0, {io_dpath_pmp_5_addr, 2'h0} & pmpHomogeneous_pgMask_5}) & (io_dpath_pmp_6_cfg_a[1] ? (_GEN_0 ? io_dpath_pmp_6_mask[11] : _leaf_T_5 ? io_dpath_pmp_6_mask[20] : io_dpath_pmp_6_mask[29]) | (_GEN_0 ? (|(r_pte_ppn ^ {24'h0, io_dpath_pmp_6_addr[29:10]})) : _leaf_T_5 ? (|(r_pte_ppn[43:9] ^ {24'h0, io_dpath_pmp_6_addr[29:19]})) : (|(r_pte_ppn[43:18] ^ {24'h0, io_dpath_pmp_6_addr[29:28]}))) : ~(io_dpath_pmp_6_cfg_a[0]) | _pmpHomogeneous_endsBeforeUpper_T_36 < {24'h0, {io_dpath_pmp_5_addr, 2'h0} & pmpHomogeneous_pgMask_6} | _pmpHomogeneous_T >= _GEN_7 | _pmpHomogeneous_T >= _GEN_6 & _pmpHomogeneous_endsBeforeUpper_T_36 < {24'h0, {io_dpath_pmp_6_addr, 2'h0} & pmpHomogeneous_pgMask_6}) & (io_dpath_pmp_7_cfg_a[1] ? (_GEN_0 ? io_dpath_pmp_7_mask[11] : _leaf_T_5 ? io_dpath_pmp_7_mask[20] : io_dpath_pmp_7_mask[29]) | (_GEN_0 ? (|(r_pte_ppn ^ {24'h0, io_dpath_pmp_7_addr[29:10]})) : _leaf_T_5 ? (|(r_pte_ppn[43:9] ^ {24'h0, io_dpath_pmp_7_addr[29:19]})) : (|(r_pte_ppn[43:18] ^ {24'h0, io_dpath_pmp_7_addr[29:28]}))) : ~(io_dpath_pmp_7_cfg_a[0]) | _pmpHomogeneous_endsBeforeUpper_T_42 < {24'h0, {io_dpath_pmp_6_addr, 2'h0} & pmpHomogeneous_pgMask_7} | _pmpHomogeneous_T >= {24'h0, io_dpath_pmp_7_addr, 2'h0} | _pmpHomogeneous_T >= _GEN_7 & _pmpHomogeneous_endsBeforeUpper_T_42 < {24'h0, {io_dpath_pmp_7_addr, 2'h0} & pmpHomogeneous_pgMask_7});	// @[PMP.scala:45:20, :46:26, :60:36, :97:93, :98:{21,53,78}, :106:32, :107:32, :110:{30,40,58}, :111:{40,53}, :113:62, :118:{8,45,58}, PTW.scala:275:18, :313:93, :546:88, :551:36, Parameters.scala:137:{31,45,65}, TLBPermissions.scala:101:65, package.scala:33:{76,86}]
  wire            _GEN_8 = _T_203 & _r_pte_T_23;	// @[Decoupled.scala:51:35, PTW.scala:240:30, :587:30]
  wire            _T_213 = state == 3'h2;	// @[PTW.scala:233:22, :384:15, :585:18]
  wire            _T_214 = state == 3'h4;	// @[Mux.scala:47:70, PTW.scala:233:22, :585:18]
  wire            _GEN_9 = _T_223 | _T_213;	// @[PTW.scala:389:24, :405:26, :585:18]
  wire            _GEN_10 = _T_203 | _GEN_9;	// @[PTW.scala:240:30, :405:26, :585:18]
  wire [7:0][2:0] _GEN_11 = {{3'h0}, {state}, {state}, {io_mem_s2_xcpt_ae_ld ? 3'h0 : 3'h5}, {state}, {l2_hit ? 3'h1 : 3'h4}, {pte_cache_hit ? state : io_mem_req_ready ? 3'h2 : 3'h1}, {_r_pte_T_23 ? {2'h0, _arb_io_out_bits_valid} : state}};	// @[Decoupled.scala:51:35, Mux.scala:47:70, PTW.scala:233:22, :236:19, :240:30, :379:24, :384:15, :389:24, :493:27, :581:31, :585:18, :587:30, :595:{20,26}, :621:35, :627:34, :631:{20,26}, :636:{18,24}, :639:18, :641:35, :643:20, :648:18]
  wire [1:0]      _merged_pte_superpage_mask_T = stage2_final ? max_count : 2'h2;	// @[PTW.scala:284:25, :290:25, :662:45]
  wire            _r_pte_T_1 = l2_hit & ~l2_error;	// @[PTW.scala:488:81, :493:27, :670:{16,19}]
  wire            _r_pte_T_5 = _T_223 & pte_cache_hit;	// @[PTW.scala:379:24, :389:24, :672:50]
  wire            _r_pte_T_8 = ~traverse & r_req_vstage1 & stage2;	// @[PTW.scala:270:18, :283:19, :316:48, :676:{29,56}]
  wire            _GEN_12 = do_switch | ~mem_resp_valid;	// @[PTW.scala:293:31, :583:30, :674:8, :689:25, :692:21]
  wire            _GEN_13 = _r_pte_T_1 | _r_pte_T_5;	// @[PTW.scala:670:{8,16}, :672:50]
  wire            _T_222 = l2_hit & ~l2_error;	// @[PTW.scala:488:81, :493:27, :670:19, :683:16]
  wire            gf = stage2 & ~stage2_final & ~(aux_pte_pte_v & (mem_resp_data[1] | mem_resp_data[3] & ~(mem_resp_data[2])) & mem_resp_data[6] & mem_resp_data[1] & mem_resp_data[4]);	// @[PTW.scala:139:42, :141:{38,44}, :143:33, :283:19, :284:25, :294:30, :305:37, :306:26, :308:36, :311:{106,114}, :369:107, :696:{40,43}]
  wire            ae = aux_pte_pte_v & invalid_paddr;	// @[PTW.scala:306:26, :308:36, :311:{106,114}, :313:14, :697:22]
  wire            pf = aux_pte_pte_v & (|(mem_resp_data[63:54]));	// @[PTW.scala:294:30, :305:37, :306:26, :308:36, :311:{106,114}, :698:{22,49}]
  wire            success = aux_pte_pte_v & ~ae & ~pf & ~gf;	// @[PTW.scala:306:26, :308:36, :311:{106,114}, :696:40, :697:22, :698:22, :699:{30,37,41,44}]
  wire            _T_239 = do_both_stages & ~stage2_final & success;	// @[PTW.scala:284:25, :289:38, :369:107, :699:41, :701:45]
  assign do_switch = mem_resp_valid & (traverse ? do_both_stages & ~stage2 : _T_239 & ~stage2);	// @[PTW.scala:283:19, :289:38, :293:31, :307:38, :316:48, :583:30, :585:18, :689:25, :692:21, :693:{28,40}, :701:{45,57}, :702:23, :706:24]
  wire            _GEN_14 = traverse | _T_239;	// @[PTW.scala:316:48, :410:26, :692:21, :701:{45,57}, :711:19]
  wire [2:0]      _GEN_15 = hits[7:5] | hits[3:1];	// @[OneHot.scala:30:18, :31:18, :32:28, PTW.scala:378:43]
  wire            _T_45 = _GEN_15[2] | _GEN_15[0];	// @[OneHot.scala:30:18, :31:18, :32:28]
  wire [1:0]      _count_T_2 = count + 2'h1;	// @[PTW.scala:259:18, :628:24, :644:32]
  wire            _GEN_16 = _T_213 | _T_214 | ~((&state) & ~homogeneous);	// @[PTW.scala:233:22, :259:18, :551:36, :585:18, :650:{13,27}, :651:15]
  wire            _T_83 = mem_resp_valid & traverse;	// @[PTW.scala:293:31, :316:48, :381:26]
  wire            _T_38 = _T_83 & can_hit & ~(|hits) & ~invalidated;	// @[PTW.scala:251:24, :370:35, :378:43, :379:20, :381:{26,55,65,68}]
  wire [6:0]      _GEN_17 = ~(valid[6:0]);	// @[PTW.scala:364:24, :382:57]
  wire [2:0]      r = (&valid) ? {state_reg[6], state_reg[6] ? {state_reg[5], state_reg[5] ? state_reg[4] : state_reg[3]} : {state_reg[2], state_reg[2] ? state_reg[1] : state_reg[0]}} : _GEN_17[0] ? 3'h0 : _GEN_17[1] ? 3'h1 : _GEN_17[2] ? 3'h2 : _GEN_17[3] ? 3'h3 : _GEN_17[4] ? 3'h4 : _GEN_17[5] ? 3'h5 : {2'h3, ~(_GEN_17[6])};	// @[Cat.scala:33:92, Mux.scala:47:70, OneHot.scala:47:45, PTW.scala:233:22, :364:24, :382:{18,25,57}, :384:15, Replacement.scala:168:70, :243:38, :245:38, :250:16, package.scala:33:86, :155:13]
  wire [31:0]     _GEN_18 = {r_pte_ppn[19:0], pte_addr_vpn_idx, 3'h0};	// @[PTW.scala:233:22, :275:18, :329:23, :384:15, package.scala:33:76]
  wire            _T_89 = _T_83 & do_both_stages & ~stage2 & ~stage2_final & ~invalidated;	// @[PTW.scala:251:24, :283:19, :284:25, :289:38, :307:38, :369:107, :381:{26,65,68}]
  wire [6:0]      _GEN_19 = ~(valid_1[6:0]);	// @[PTW.scala:364:24, :382:57]
  wire [2:0]      r_1 = (&valid_1) ? {state_reg_1[6], state_reg_1[6] ? {state_reg_1[5], state_reg_1[5] ? state_reg_1[4] : state_reg_1[3]} : {state_reg_1[2], state_reg_1[2] ? state_reg_1[1] : state_reg_1[0]}} : _GEN_19[0] ? 3'h0 : _GEN_19[1] ? 3'h1 : _GEN_19[2] ? 3'h2 : _GEN_19[3] ? 3'h3 : _GEN_19[4] ? 3'h4 : _GEN_19[5] ? 3'h5 : {2'h3, ~(_GEN_19[6])};	// @[Cat.scala:33:92, Mux.scala:47:70, OneHot.scala:47:45, PTW.scala:233:22, :364:24, :382:{18,25,57}, :384:15, Replacement.scala:168:70, :243:38, :245:38, :250:16, package.scala:33:86, :155:13]
  wire [511:0]    _GEN_20 = {503'h0, writeAddr};	// @[PTW.scala:438:34, package.scala:155:13]
  wire [511:0]    _T_152 = 512'h1 << _GEN_20;	// @[OneHot.scala:57:35, PTW.scala:438:34]
  wire            _GEN_21 = r_req_dest == 2'h0;	// @[PTW.scala:272:23, :644:32]
  wire            _GEN_22 = r_req_dest == 2'h1;	// @[PTW.scala:272:23, :644:32]
  wire            _GEN_23 = ~_GEN_10 & (_T_214 ? io_mem_s2_xcpt_ae_ld & _GEN_21 : (&state) & _GEN_21);	// @[PTW.scala:233:22, :242:27, :405:26, :585:18, :641:35, :644:32, :649:30]
  wire            _GEN_24 = ~_GEN_10 & (_T_214 ? io_mem_s2_xcpt_ae_ld & _GEN_22 : (&state) & _GEN_22);	// @[PTW.scala:233:22, :242:27, :405:26, :585:18, :641:35, :644:32, :649:30]
  wire            _GEN_25 = _T_222 & _GEN_21;	// @[PTW.scala:585:18, :644:32, :683:{16,30}, :686:28]
  wire            _GEN_26 = _T_222 & _GEN_22;	// @[PTW.scala:585:18, :644:32, :683:{16,30}, :686:28]
  wire [511:0]    _T_144 = REG_1_0 >> _GEN_20;	// @[PTW.scala:434:24, :438:34]
  wire [511:0]    _T_181 = REG_0 >> _GEN_20;	// @[PTW.scala:433:16, :438:34, :487:45]
  always @(posedge clock) begin
    if (reset) begin
      state <= 3'h0;	// @[PTW.scala:233:22]
      state_reg <= 7'h0;	// @[Replacement.scala:168:70]
      valid <= 8'h0;	// @[PTW.scala:364:24]
      state_reg_1 <= 7'h0;	// @[Replacement.scala:168:70]
      valid_1 <= 8'h0;	// @[PTW.scala:364:24]
      REG_1_0 <= 512'h0;	// @[PTW.scala:434:{24,32}]
    end
    else begin
      state <= _state_barrier_io_y;	// @[PTW.scala:233:22, package.scala:259:25]
      if (pte_cache_hit & _T_223)	// @[PTW.scala:379:24, :389:{15,24}]
        state_reg <= {~(|(hits[7:4])), (|(hits[7:4])) ? {~(|(_GEN_15[2:1])), (|(_GEN_15[2:1])) ? ~_T_45 : state_reg[4], (|(_GEN_15[2:1])) ? state_reg[3] : ~_T_45} : state_reg[5:3], (|(hits[7:4])) ? state_reg[2:0] : {~(|(_GEN_15[2:1])), (|(_GEN_15[2:1])) ? ~_T_45 : state_reg[1], (|(_GEN_15[2:1])) ? state_reg[0] : ~_T_45}};	// @[Cat.scala:33:92, OneHot.scala:30:18, :32:{14,28}, PTW.scala:378:43, Replacement.scala:168:70, :196:33, :198:38, :203:16, :206:16, :218:7, package.scala:155:13]
      else if (_T_38)	// @[PTW.scala:381:65]
        state_reg <= {~(r[2]), r[2] ? {~(r[1]), r[1] ? ~(r[0]) : state_reg[4], r[1] ? state_reg[3] : ~(r[0])} : state_reg[5:3], r[2] ? state_reg[2:0] : {~(r[1]), r[1] ? ~(r[0]) : state_reg[1], r[1] ? state_reg[0] : ~(r[0])}};	// @[Cat.scala:33:92, PTW.scala:382:18, Replacement.scala:168:70, :196:{33,43}, :198:38, :203:16, :206:16, :218:7, :245:38, package.scala:155:13]
      if (io_dpath_sfence_valid & ~io_dpath_sfence_bits_rs1)	// @[PTW.scala:390:{33,37}]
        valid <= 8'h0;	// @[PTW.scala:364:24]
      else	// @[PTW.scala:390:33]
        valid <= {8{_T_38}} & 8'h1 << r | valid;	// @[OneHot.scala:57:35, PTW.scala:364:24, :381:{65,82}, :382:18, :383:13]
      if (_T_89)	// @[PTW.scala:381:65]
        state_reg_1 <= {~(r_1[2]), r_1[2] ? {~(r_1[1]), r_1[1] ? ~(r_1[0]) : state_reg_1[4], r_1[1] ? state_reg_1[3] : ~(r_1[0])} : state_reg_1[5:3], r_1[2] ? state_reg_1[2:0] : {~(r_1[1]), r_1[1] ? ~(r_1[0]) : state_reg_1[1], r_1[1] ? state_reg_1[0] : ~(r_1[0])}};	// @[Cat.scala:33:92, PTW.scala:382:18, Replacement.scala:168:70, :196:{33,43}, :198:38, :203:16, :206:16, :218:7, :245:38, package.scala:155:13]
      if (io_dpath_sfence_valid & ~io_dpath_sfence_bits_rs1)	// @[PTW.scala:390:{33,37}]
        valid_1 <= 8'h0;	// @[PTW.scala:364:24]
      else	// @[PTW.scala:390:33]
        valid_1 <= {8{_T_89}} & 8'h1 << r_1 | valid_1;	// @[OneHot.scala:57:35, PTW.scala:364:24, :381:{65,82}, :382:18, :383:13]
      if (REG_5 & l2_error)	// @[PTW.scala:482:27, :488:81, :489:20]
        REG_1_0 <= 512'h0;	// @[PTW.scala:434:{24,32}]
      else if (io_dpath_sfence_valid) begin
        if (io_dpath_sfence_bits_rs1)
          REG_1_0 <= REG_1_0 & ~(512'h1 << io_dpath_sfence_bits_addr[20:12]);	// @[OneHot.scala:57:35, PTW.scala:434:24, :473:{59,61,96}]
        else if (io_dpath_sfence_bits_rs2)
          REG_1_0 <= REG_1_0 & REG_0;	// @[PTW.scala:433:16, :434:24, :474:59]
        else
          REG_1_0 <= 512'h0;	// @[PTW.scala:434:{24,32}]
      end
      else
        REG_1_0 <= {512{writeEnable}} & _T_152 | REG_1_0;	// @[OneHot.scala:57:35, PTW.scala:434:24, :445:{21,38}, :462:27]
    end
    if (~mem_resp_valid | _GEN_14) begin	// @[PTW.scala:293:31, :410:26, :674:8, :683:30, :689:25, :692:21, :701:57, :711:19]
      resp_valid_0 <= _GEN_25 | _GEN_23;	// @[PTW.scala:242:27, :585:18, :683:30, :686:28]
      resp_valid_1 <= _GEN_26 | _GEN_24;	// @[PTW.scala:242:27, :585:18, :683:30, :686:28]
      resp_ae_final <= ~_GEN_8 & resp_ae_final;	// @[PTW.scala:261:26, :585:18, :587:30, :604:23]
      resp_pf <= ~_GEN_8 & resp_pf;	// @[PTW.scala:261:26, :262:20, :585:18, :587:30, :604:23, :605:17]
      resp_gf <= ~_GEN_8 & resp_gf;	// @[PTW.scala:261:26, :263:20, :585:18, :587:30, :604:23, :606:17]
      resp_hr <= _GEN_8 | resp_hr;	// @[PTW.scala:264:20, :585:18, :587:30, :607:17]
      resp_hw <= _GEN_8 | resp_hw;	// @[PTW.scala:265:20, :585:18, :587:30, :608:17]
      resp_hx <= _GEN_8 | resp_hx;	// @[PTW.scala:266:20, :585:18, :587:30, :609:17]
    end
    else begin	// @[PTW.scala:683:30, :689:25, :692:21]
      resp_valid_0 <= _GEN_21 | _GEN_25 | _GEN_23;	// @[PTW.scala:242:27, :585:18, :644:32, :683:30, :686:28, :720:34]
      resp_valid_1 <= _GEN_22 | _GEN_26 | _GEN_24;	// @[PTW.scala:242:27, :585:18, :644:32, :683:30, :686:28, :720:34]
      resp_ae_final <= ae;	// @[PTW.scala:261:26, :697:22]
      resp_pf <= pf & ~stage2;	// @[PTW.scala:262:20, :283:19, :307:38, :698:22, :724:23]
      resp_gf <= gf | pf & stage2;	// @[PTW.scala:263:20, :283:19, :696:40, :698:22, :725:{23,30}]
      resp_hr <= ~stage2 | ~pf & ~gf & aux_pte_pte_v & (mem_resp_data[1] | mem_resp_data[3] & ~(mem_resp_data[2])) & mem_resp_data[6] & mem_resp_data[1] & mem_resp_data[4];	// @[PTW.scala:139:42, :141:{38,44}, :264:20, :283:19, :294:30, :305:37, :306:26, :307:38, :308:36, :311:{106,114}, :696:40, :698:22, :699:{37,44}, :726:{28,43}]
      resp_hw <= ~stage2 | ~pf & ~gf & aux_pte_pte_v & (mem_resp_data[1] | mem_resp_data[3] & ~(mem_resp_data[2])) & mem_resp_data[6] & mem_resp_data[2] & mem_resp_data[7] & mem_resp_data[4];	// @[PTW.scala:139:42, :141:{38,44}, :265:20, :283:19, :294:30, :305:37, :306:26, :307:38, :308:36, :311:{106,114}, :696:40, :698:22, :699:{37,44}, :727:{28,43}]
      resp_hx <= ~stage2 | ~pf & ~gf & aux_pte_pte_v & (mem_resp_data[1] | mem_resp_data[3] & ~(mem_resp_data[2])) & mem_resp_data[6] & mem_resp_data[3] & mem_resp_data[4];	// @[PTW.scala:139:42, :141:{38,44}, :266:20, :283:19, :294:30, :305:37, :306:26, :307:38, :308:36, :311:{106,114}, :696:40, :698:22, :699:{37,44}, :728:{28,43}]
    end
    invalidated <= io_dpath_sfence_valid | invalidated & (|state);	// @[PTW.scala:233:22, :244:24, :251:24, :523:{40,56}]
    if (do_switch) begin	// @[PTW.scala:583:30, :689:25, :692:21]
      count <= 2'h0;	// @[PTW.scala:259:18]
      if (traverse)	// @[PTW.scala:316:48]
        aux_count <= count + 2'h1;	// @[PTW.scala:259:18, :278:22, :644:32, :738:38]
      else	// @[PTW.scala:316:48]
        aux_count <= count;	// @[PTW.scala:259:18, :278:22]
      aux_pte_ppn <= {17'h0, traverse | _GEN_0 ? _T_15 : _leaf_T_5 ? {_T_15[26:9], r_req_addr[8:0]} : {_T_15[26:18], r_req_addr[17:0]}};	// @[Cat.scala:33:92, PTW.scala:270:18, :280:20, :291:16, :307:19, :316:48, :355:79, :663:64, :740:19, package.scala:33:{76,86}]
      aux_pte_d <= mem_resp_data[7];	// @[PTW.scala:280:20, :294:30, :305:37]
      aux_pte_a <= mem_resp_data[6];	// @[PTW.scala:280:20, :294:30, :305:37]
      aux_pte_g <= mem_resp_data[5];	// @[PTW.scala:280:20, :294:30, :305:37]
      aux_pte_u <= mem_resp_data[4];	// @[PTW.scala:280:20, :294:30, :305:37]
      aux_pte_x <= mem_resp_data[3];	// @[PTW.scala:280:20, :294:30, :305:37]
      aux_pte_w <= mem_resp_data[2];	// @[PTW.scala:280:20, :294:30, :305:37]
      aux_pte_r <= mem_resp_data[1];	// @[PTW.scala:280:20, :294:30, :305:37]
      aux_pte_v <= aux_pte_pte_v;	// @[PTW.scala:280:20, :306:26, :308:36, :311:{106,114}]
    end
    else begin	// @[PTW.scala:583:30, :689:25, :692:21]
      if (mem_resp_valid) begin	// @[PTW.scala:293:31]
        if (traverse)	// @[PTW.scala:316:48]
          count <= count + 2'h1;	// @[PTW.scala:259:18, :644:32, :694:22]
        else if (_T_239) begin	// @[PTW.scala:701:45]
          if (stage2)	// @[PTW.scala:283:19]
            count <= aux_count;	// @[PTW.scala:259:18, :278:22]
          else if (_T_222)	// @[PTW.scala:683:16]
            count <= 2'h2;	// @[PTW.scala:259:18]
          else if (_T_203) begin	// @[PTW.scala:240:30]
            if (_r_pte_T_23)	// @[Decoupled.scala:51:35]
              count <= 2'h0;	// @[PTW.scala:259:18]
          end
          else if (_T_223) begin	// @[PTW.scala:389:24]
            if (pte_cache_hit)	// @[PTW.scala:379:24]
              count <= _count_T_2;	// @[PTW.scala:259:18, :628:24]
          end
          else if (_GEN_16) begin	// @[PTW.scala:259:18, :585:18]
          end
          else	// @[PTW.scala:259:18, :585:18]
            count <= 2'h2;	// @[PTW.scala:259:18]
        end
        else if (_max_count_T)	// @[PTW.scala:290:25]
          count <= aux_count;	// @[PTW.scala:259:18, :278:22]
      end
      else if (_T_222)	// @[PTW.scala:683:16]
        count <= 2'h2;	// @[PTW.scala:259:18]
      else if (_T_203) begin	// @[PTW.scala:240:30]
        if (_r_pte_T_23)	// @[Decoupled.scala:51:35]
          count <= 2'h0;	// @[PTW.scala:259:18]
      end
      else if (_T_223) begin	// @[PTW.scala:389:24]
        if (pte_cache_hit)	// @[PTW.scala:379:24]
          count <= _count_T_2;	// @[PTW.scala:259:18, :628:24]
      end
      else if (_GEN_16) begin	// @[PTW.scala:259:18, :585:18]
      end
      else	// @[PTW.scala:259:18, :585:18]
        count <= 2'h2;	// @[PTW.scala:259:18]
      if (_T_203 & _r_pte_T_23) begin	// @[Decoupled.scala:51:35, PTW.scala:240:30, :585:18, :587:30]
        aux_count <= 2'h0;	// @[PTW.scala:278:22]
        if (_arb_io_out_bits_bits_vstage1)	// @[PTW.scala:236:19]
          aux_pte_ppn <= 44'h0;	// @[PTW.scala:280:20]
        else	// @[PTW.scala:236:19]
          aux_pte_ppn <= {17'h0, _arb_io_out_bits_bits_addr};	// @[PTW.scala:236:19, :280:20, :291:16, :591:38]
      end
    end
    if (_T_203)	// @[PTW.scala:240:30]
      resp_ae_ptw <= ~_r_pte_T_23 & resp_ae_ptw;	// @[Decoupled.scala:51:35, PTW.scala:260:24, :587:30, :603:21]
    else	// @[PTW.scala:240:30]
      resp_ae_ptw <= ~_GEN_9 & _T_214 & io_mem_s2_xcpt_ae_ld | resp_ae_ptw;	// @[PTW.scala:260:24, :405:26, :585:18]
    if (_GEN_8) begin	// @[PTW.scala:587:30]
      r_req_addr <= _arb_io_out_bits_bits_addr;	// @[PTW.scala:236:19, :270:18]
      r_req_need_gpa <= _arb_io_out_bits_bits_need_gpa;	// @[PTW.scala:236:19, :270:18]
      r_req_vstage1 <= _arb_io_out_bits_bits_vstage1;	// @[PTW.scala:236:19, :270:18]
      r_req_stage2 <= _arb_io_out_bits_bits_stage2;	// @[PTW.scala:236:19, :270:18]
      r_req_dest <= _arb_io_chosen;	// @[PTW.scala:236:19, :272:23]
      r_hgatp_ppn <= 44'h0;	// @[PTW.scala:276:20]
    end
    r_pte_ppn <= _r_pte_barrier_io_y_ppn;	// @[PTW.scala:275:18, package.scala:259:25]
    r_pte_d <= _r_pte_barrier_io_y_d;	// @[PTW.scala:275:18, package.scala:259:25]
    r_pte_a <= _r_pte_barrier_io_y_a;	// @[PTW.scala:275:18, package.scala:259:25]
    r_pte_g <= _r_pte_barrier_io_y_g;	// @[PTW.scala:275:18, package.scala:259:25]
    r_pte_u <= _r_pte_barrier_io_y_u;	// @[PTW.scala:275:18, package.scala:259:25]
    r_pte_x <= _r_pte_barrier_io_y_x;	// @[PTW.scala:275:18, package.scala:259:25]
    r_pte_w <= _r_pte_barrier_io_y_w;	// @[PTW.scala:275:18, package.scala:259:25]
    r_pte_r <= _r_pte_barrier_io_y_r;	// @[PTW.scala:275:18, package.scala:259:25]
    r_pte_v <= _r_pte_barrier_io_y_v;	// @[PTW.scala:275:18, package.scala:259:25]
    stage2 <= do_switch | (~mem_resp_valid | traverse | ~(_T_239 & stage2)) & (_GEN_8 ? _arb_io_out_bits_bits_stage2 : stage2);	// @[PTW.scala:236:19, :283:19, :293:31, :316:48, :583:30, :585:18, :587:30, :596:22, :674:8, :689:25, :692:21, :701:{45,57}, :702:23, :703:18, :737:20, :745:12]
    stage2_final <= mem_resp_valid & ~traverse & _T_239 & ~stage2 | (_GEN_8 ? _arb_io_out_bits_bits_stage2 & ~_arb_io_out_bits_bits_vstage1 : stage2_final);	// @[PTW.scala:236:19, :283:19, :284:25, :293:31, :316:48, :585:18, :587:30, :597:{22,53,56}, :689:25, :692:21, :701:{45,57}, :702:23, :706:24]
    mem_resp_valid <= io_mem_resp_valid;	// @[PTW.scala:293:31]
    mem_resp_data <= io_mem_resp_bits_data;	// @[PTW.scala:294:30]
    if (_T_38 & r == 3'h0) begin	// @[PTW.scala:233:22, :365:19, :381:{65,82}, :382:18, :384:15]
      tags_0 <= _GEN_18;	// @[PTW.scala:365:19, :384:15]
      data_0 <= _T_15[19:0];	// @[PTW.scala:307:19, :367:19, :385:15]
    end
    if (_T_38 & r == 3'h1) begin	// @[PTW.scala:365:19, :381:{65,82}, :382:18, :384:15]
      tags_1 <= _GEN_18;	// @[PTW.scala:365:19, :384:15]
      data_1 <= _T_15[19:0];	// @[PTW.scala:307:19, :367:19, :385:15]
    end
    if (_T_38 & r == 3'h2) begin	// @[PTW.scala:365:19, :381:{65,82}, :382:18, :384:15]
      tags_2 <= _GEN_18;	// @[PTW.scala:365:19, :384:15]
      data_2 <= _T_15[19:0];	// @[PTW.scala:307:19, :367:19, :385:15]
    end
    if (_T_38 & r == 3'h3) begin	// @[PTW.scala:365:19, :381:{65,82}, :382:18, :384:15]
      tags_3 <= _GEN_18;	// @[PTW.scala:365:19, :384:15]
      data_3 <= _T_15[19:0];	// @[PTW.scala:307:19, :367:19, :385:15]
    end
    if (_T_38 & r == 3'h4) begin	// @[Mux.scala:47:70, PTW.scala:365:19, :381:{65,82}, :382:18, :384:15]
      tags_4 <= _GEN_18;	// @[PTW.scala:365:19, :384:15]
      data_4 <= _T_15[19:0];	// @[PTW.scala:307:19, :367:19, :385:15]
    end
    if (_T_38 & r == 3'h5) begin	// @[Mux.scala:47:70, PTW.scala:365:19, :381:{65,82}, :382:18, :384:15]
      tags_5 <= _GEN_18;	// @[PTW.scala:365:19, :384:15]
      data_5 <= _T_15[19:0];	// @[PTW.scala:307:19, :367:19, :385:15]
    end
    if (_T_38 & r == 3'h6) begin	// @[Mux.scala:47:70, PTW.scala:365:19, :381:{65,82}, :382:18, :384:15]
      tags_6 <= _GEN_18;	// @[PTW.scala:365:19, :384:15]
      data_6 <= _T_15[19:0];	// @[PTW.scala:307:19, :367:19, :385:15]
    end
    if (_T_38 & (&r)) begin	// @[PTW.scala:365:19, :381:{65,82}, :382:18, :384:15]
      tags_7 <= _GEN_18;	// @[PTW.scala:365:19, :384:15]
      data_7 <= _T_15[19:0];	// @[PTW.scala:307:19, :367:19, :385:15]
    end
    if (_T_89 & r_1 == 3'h0) begin	// @[PTW.scala:233:22, :365:19, :381:{65,82}, :382:18, :384:15]
      tags_1_0 <= 32'h0;	// @[PTW.scala:365:19]
      data_1_0 <= _T_15[19:0];	// @[PTW.scala:307:19, :367:19, :385:15]
    end
    if (_T_89 & r_1 == 3'h1) begin	// @[PTW.scala:365:19, :381:{65,82}, :382:18, :384:15]
      tags_1_1 <= 32'h0;	// @[PTW.scala:365:19]
      data_1_1 <= _T_15[19:0];	// @[PTW.scala:307:19, :367:19, :385:15]
    end
    if (_T_89 & r_1 == 3'h2) begin	// @[PTW.scala:365:19, :381:{65,82}, :382:18, :384:15]
      tags_1_2 <= 32'h0;	// @[PTW.scala:365:19]
      data_1_2 <= _T_15[19:0];	// @[PTW.scala:307:19, :367:19, :385:15]
    end
    if (_T_89 & r_1 == 3'h3) begin	// @[PTW.scala:365:19, :381:{65,82}, :382:18, :384:15]
      tags_1_3 <= 32'h0;	// @[PTW.scala:365:19]
      data_1_3 <= _T_15[19:0];	// @[PTW.scala:307:19, :367:19, :385:15]
    end
    if (_T_89 & r_1 == 3'h4) begin	// @[Mux.scala:47:70, PTW.scala:365:19, :381:{65,82}, :382:18, :384:15]
      tags_1_4 <= 32'h0;	// @[PTW.scala:365:19]
      data_1_4 <= _T_15[19:0];	// @[PTW.scala:307:19, :367:19, :385:15]
    end
    if (_T_89 & r_1 == 3'h5) begin	// @[Mux.scala:47:70, PTW.scala:365:19, :381:{65,82}, :382:18, :384:15]
      tags_1_5 <= 32'h0;	// @[PTW.scala:365:19]
      data_1_5 <= _T_15[19:0];	// @[PTW.scala:307:19, :367:19, :385:15]
    end
    if (_T_89 & r_1 == 3'h6) begin	// @[Mux.scala:47:70, PTW.scala:365:19, :381:{65,82}, :382:18, :384:15]
      tags_1_6 <= 32'h0;	// @[PTW.scala:365:19]
      data_1_6 <= _T_15[19:0];	// @[PTW.scala:307:19, :367:19, :385:15]
    end
    if (_T_89 & (&r_1)) begin	// @[PTW.scala:365:19, :381:{65,82}, :382:18, :384:15]
      tags_1_7 <= 32'h0;	// @[PTW.scala:365:19]
      data_1_7 <= _T_15[19:0];	// @[PTW.scala:307:19, :367:19, :385:15]
    end
    pte_hit <= ~_T_203 & _T_223 & pte_cache_hit;	// @[PTW.scala:240:30, :379:24, :389:24, :404:24, :585:18]
    l2_refill <= mem_resp_valid & ~_GEN_14 & success & _T_300 & ~r_req_need_gpa & (~r_req_vstage1 & ~r_req_stage2 | do_both_stages & aux_count == 2'h2 & aux_pte_pte_v & (mem_resp_data[1] | mem_resp_data[3] & ~(mem_resp_data[2])) & mem_resp_data[6] & mem_resp_data[2] & mem_resp_data[7] & mem_resp_data[4] & (mem_resp_data[1] | mem_resp_data[3] & ~(mem_resp_data[2])) & mem_resp_data[3]);	// @[PTW.scala:139:42, :141:{38,44}, :270:18, :278:22, :289:38, :293:31, :294:30, :305:37, :306:26, :308:36, :311:{106,114}, :370:65, :410:26, :568:{32,60}, :689:25, :692:21, :699:41, :701:57, :711:{19,61}, :712:{27,44}, :713:59, package.scala:33:86]
    if (writeEnable) begin	// @[PTW.scala:445:21]
      if (r_pte_g)	// @[PTW.scala:275:18]
        REG_0 <= REG_0 | _T_152;	// @[OneHot.scala:57:35, PTW.scala:433:16, :464:41]
      else	// @[PTW.scala:275:18]
        REG_0 <= REG_0 & ~_T_152;	// @[OneHot.scala:57:35, PTW.scala:433:16, :464:{56,58}]
    end
    REG_4 <= readEnable & _arb_io_out_bits_bits_vstage1 == _arb_io_out_bits_bits_stage2 & ~_arb_io_out_bits_bits_need_gpa & _arb_io_out_bits_valid;	// @[PTW.scala:236:19, :479:31, :480:{52,87}, :481:{27,52}]
    REG_5 <= REG_4;	// @[PTW.scala:481:27, :482:27]
    if (REG_4) begin	// @[PTW.scala:481:27]
      r_2 <= _l2_tlb_ram_0_RW0_rdata;	// @[DescribedSRAM.scala:17:26, Reg.scala:19:16]
      r_3 <= _T_144[0];	// @[PTW.scala:438:34, Reg.scala:19:16]
      r_4_0 <= _T_181[0];	// @[PTW.scala:487:45, Reg.scala:19:16]
    end
  end // always @(posedge)
  `ifndef SYNTHESIS
    always @(posedge clock) begin	// @[PTW.scala:407:9]
      if (~reset & l2_hit & (~_GEN_10 & _T_214 & ~(count[1]) | pte_hit & _T_223 & ~l2_hit)) begin	// @[PTW.scala:259:18, :311:21, :316:57, :389:24, :404:24, :405:26, :406:{57,60}, :407:{9,59}, :493:27, :585:18]
        if (`ASSERT_VERBOSE_COND_)	// @[PTW.scala:407:9]
          $error("Assertion failed: PTE Cache Hit/Miss Performance Monitor Events are lower priority than L2TLB Hit event\n    at PTW.scala:407 assert(!(io.dpath.perf.l2hit && (io.dpath.perf.pte_miss || io.dpath.perf.pte_hit)),\n");	// @[PTW.scala:407:9]
        if (`STOP_COND_)	// @[PTW.scala:407:9]
          $fatal;	// @[PTW.scala:407:9]
      end
      if (l2_hit & ~reset & ~(_T_197 | l2_error)) begin	// @[PTW.scala:488:81, :492:83, :493:27, :498:{13,45}]
        if (`ASSERT_VERBOSE_COND_)	// @[PTW.scala:498:13]
          $error("Assertion failed: L2 TLB multi-hit\n    at PTW.scala:498 assert((PopCount(s2_hit_vec) === 1.U) || s2_error, \"L2 TLB multi-hit\")\n");	// @[PTW.scala:498:13]
        if (`STOP_COND_)	// @[PTW.scala:498:13]
          $fatal;	// @[PTW.scala:498:13]
      end
      if (_GEN_8 & ~reset & ~(~_arb_io_out_bits_bits_need_gpa | _arb_io_out_bits_bits_stage2)) begin	// @[PTW.scala:236:19, :480:87, :587:30, :613:{15,47}]
        if (`ASSERT_VERBOSE_COND_)	// @[PTW.scala:613:15]
          $error("Assertion failed\n    at PTW.scala:613 assert(!arb.io.out.bits.bits.need_gpa || arb.io.out.bits.bits.stage2)\n");	// @[PTW.scala:613:15]
        if (`STOP_COND_)	// @[PTW.scala:613:15]
          $fatal;	// @[PTW.scala:613:15]
      end
      if (_T_222 & ~reset & ~(_T_223 | state == 3'h2)) begin	// @[PTW.scala:233:22, :384:15, :389:24, :683:16, :684:{11,28,37}]
        if (`ASSERT_VERBOSE_COND_)	// @[PTW.scala:684:11]
          $error("Assertion failed\n    at PTW.scala:684 assert(state === s_req || state === s_wait1)\n");	// @[PTW.scala:684:11]
        if (`STOP_COND_)	// @[PTW.scala:684:11]
          $fatal;	// @[PTW.scala:684:11]
      end
      if (mem_resp_valid & ~reset & state != 3'h5) begin	// @[Mux.scala:47:70, PTW.scala:233:22, :293:31, :690:{11,18}]
        if (`ASSERT_VERBOSE_COND_)	// @[PTW.scala:690:11]
          $error("Assertion failed\n    at PTW.scala:690 assert(state === s_wait3)\n");	// @[PTW.scala:690:11]
        if (`STOP_COND_)	// @[PTW.scala:690:11]
          $fatal;	// @[PTW.scala:690:11]
      end
      if (io_mem_s2_nack & ~reset & state != 3'h4) begin	// @[Mux.scala:47:70, PTW.scala:233:22, :733:{11,18}]
        if (`ASSERT_VERBOSE_COND_)	// @[PTW.scala:733:11]
          $error("Assertion failed\n    at PTW.scala:733 assert(state === s_wait2)\n");	// @[PTW.scala:733:11]
        if (`STOP_COND_)	// @[PTW.scala:733:11]
          $fatal;	// @[PTW.scala:733:11]
      end
    end // always @(posedge)
    `ifdef FIRRTL_BEFORE_INITIAL
      `FIRRTL_BEFORE_INITIAL
    `endif // FIRRTL_BEFORE_INITIAL
    logic [31:0] _RANDOM_0;
    logic [31:0] _RANDOM_1;
    logic [31:0] _RANDOM_2;
    logic [31:0] _RANDOM_3;
    logic [31:0] _RANDOM_4;
    logic [31:0] _RANDOM_5;
    logic [31:0] _RANDOM_6;
    logic [31:0] _RANDOM_7;
    logic [31:0] _RANDOM_8;
    logic [31:0] _RANDOM_9;
    logic [31:0] _RANDOM_10;
    logic [31:0] _RANDOM_11;
    logic [31:0] _RANDOM_12;
    logic [31:0] _RANDOM_13;
    logic [31:0] _RANDOM_14;
    logic [31:0] _RANDOM_15;
    logic [31:0] _RANDOM_16;
    logic [31:0] _RANDOM_17;
    logic [31:0] _RANDOM_18;
    logic [31:0] _RANDOM_19;
    logic [31:0] _RANDOM_20;
    logic [31:0] _RANDOM_21;
    logic [31:0] _RANDOM_22;
    logic [31:0] _RANDOM_23;
    logic [31:0] _RANDOM_24;
    logic [31:0] _RANDOM_25;
    logic [31:0] _RANDOM_26;
    logic [31:0] _RANDOM_27;
    logic [31:0] _RANDOM_28;
    logic [31:0] _RANDOM_29;
    logic [31:0] _RANDOM_30;
    logic [31:0] _RANDOM_31;
    logic [31:0] _RANDOM_32;
    logic [31:0] _RANDOM_33;
    logic [31:0] _RANDOM_34;
    logic [31:0] _RANDOM_35;
    logic [31:0] _RANDOM_36;
    logic [31:0] _RANDOM_37;
    logic [31:0] _RANDOM_38;
    logic [31:0] _RANDOM_39;
    logic [31:0] _RANDOM_40;
    logic [31:0] _RANDOM_41;
    logic [31:0] _RANDOM_42;
    logic [31:0] _RANDOM_43;
    logic [31:0] _RANDOM_44;
    logic [31:0] _RANDOM_45;
    logic [31:0] _RANDOM_46;
    logic [31:0] _RANDOM_47;
    logic [31:0] _RANDOM_48;
    logic [31:0] _RANDOM_49;
    logic [31:0] _RANDOM_50;
    logic [31:0] _RANDOM_51;
    logic [31:0] _RANDOM_52;
    logic [31:0] _RANDOM_53;
    logic [31:0] _RANDOM_54;
    logic [31:0] _RANDOM_55;
    logic [31:0] _RANDOM_56;
    logic [31:0] _RANDOM_57;
    logic [31:0] _RANDOM_58;
    logic [31:0] _RANDOM_59;
    logic [31:0] _RANDOM_60;
    logic [31:0] _RANDOM_61;
    logic [31:0] _RANDOM_62;
    logic [31:0] _RANDOM_63;
    logic [31:0] _RANDOM_64;
    logic [31:0] _RANDOM_65;
    logic [31:0] _RANDOM_66;
    logic [31:0] _RANDOM_67;
    logic [31:0] _RANDOM_68;
    logic [31:0] _RANDOM_69;
    logic [31:0] _RANDOM_70;
    initial begin
      `ifdef INIT_RANDOM_PROLOG_
        `INIT_RANDOM_PROLOG_
      `endif // INIT_RANDOM_PROLOG_
      `ifdef RANDOMIZE_REG_INIT
        _RANDOM_0 = `RANDOM;
        _RANDOM_1 = `RANDOM;
        _RANDOM_2 = `RANDOM;
        _RANDOM_3 = `RANDOM;
        _RANDOM_4 = `RANDOM;
        _RANDOM_5 = `RANDOM;
        _RANDOM_6 = `RANDOM;
        _RANDOM_7 = `RANDOM;
        _RANDOM_8 = `RANDOM;
        _RANDOM_9 = `RANDOM;
        _RANDOM_10 = `RANDOM;
        _RANDOM_11 = `RANDOM;
        _RANDOM_12 = `RANDOM;
        _RANDOM_13 = `RANDOM;
        _RANDOM_14 = `RANDOM;
        _RANDOM_15 = `RANDOM;
        _RANDOM_16 = `RANDOM;
        _RANDOM_17 = `RANDOM;
        _RANDOM_18 = `RANDOM;
        _RANDOM_19 = `RANDOM;
        _RANDOM_20 = `RANDOM;
        _RANDOM_21 = `RANDOM;
        _RANDOM_22 = `RANDOM;
        _RANDOM_23 = `RANDOM;
        _RANDOM_24 = `RANDOM;
        _RANDOM_25 = `RANDOM;
        _RANDOM_26 = `RANDOM;
        _RANDOM_27 = `RANDOM;
        _RANDOM_28 = `RANDOM;
        _RANDOM_29 = `RANDOM;
        _RANDOM_30 = `RANDOM;
        _RANDOM_31 = `RANDOM;
        _RANDOM_32 = `RANDOM;
        _RANDOM_33 = `RANDOM;
        _RANDOM_34 = `RANDOM;
        _RANDOM_35 = `RANDOM;
        _RANDOM_36 = `RANDOM;
        _RANDOM_37 = `RANDOM;
        _RANDOM_38 = `RANDOM;
        _RANDOM_39 = `RANDOM;
        _RANDOM_40 = `RANDOM;
        _RANDOM_41 = `RANDOM;
        _RANDOM_42 = `RANDOM;
        _RANDOM_43 = `RANDOM;
        _RANDOM_44 = `RANDOM;
        _RANDOM_45 = `RANDOM;
        _RANDOM_46 = `RANDOM;
        _RANDOM_47 = `RANDOM;
        _RANDOM_48 = `RANDOM;
        _RANDOM_49 = `RANDOM;
        _RANDOM_50 = `RANDOM;
        _RANDOM_51 = `RANDOM;
        _RANDOM_52 = `RANDOM;
        _RANDOM_53 = `RANDOM;
        _RANDOM_54 = `RANDOM;
        _RANDOM_55 = `RANDOM;
        _RANDOM_56 = `RANDOM;
        _RANDOM_57 = `RANDOM;
        _RANDOM_58 = `RANDOM;
        _RANDOM_59 = `RANDOM;
        _RANDOM_60 = `RANDOM;
        _RANDOM_61 = `RANDOM;
        _RANDOM_62 = `RANDOM;
        _RANDOM_63 = `RANDOM;
        _RANDOM_64 = `RANDOM;
        _RANDOM_65 = `RANDOM;
        _RANDOM_66 = `RANDOM;
        _RANDOM_67 = `RANDOM;
        _RANDOM_68 = `RANDOM;
        _RANDOM_69 = `RANDOM;
        _RANDOM_70 = `RANDOM;
        state = _RANDOM_0[2:0];	// @[PTW.scala:233:22]
        resp_valid_0 = _RANDOM_0[3];	// @[PTW.scala:233:22, :242:27]
        resp_valid_1 = _RANDOM_0[4];	// @[PTW.scala:233:22, :242:27]
        invalidated = _RANDOM_0[6];	// @[PTW.scala:233:22, :251:24]
        count = _RANDOM_0[8:7];	// @[PTW.scala:233:22, :259:18]
        resp_ae_ptw = _RANDOM_0[9];	// @[PTW.scala:233:22, :260:24]
        resp_ae_final = _RANDOM_0[10];	// @[PTW.scala:233:22, :261:26]
        resp_pf = _RANDOM_0[11];	// @[PTW.scala:233:22, :262:20]
        resp_gf = _RANDOM_0[12];	// @[PTW.scala:233:22, :263:20]
        resp_hr = _RANDOM_0[13];	// @[PTW.scala:233:22, :264:20]
        resp_hw = _RANDOM_0[14];	// @[PTW.scala:233:22, :265:20]
        resp_hx = _RANDOM_0[15];	// @[PTW.scala:233:22, :266:20]
        r_req_addr = {_RANDOM_0[31:17], _RANDOM_1[11:0]};	// @[PTW.scala:233:22, :270:18]
        r_req_need_gpa = _RANDOM_1[12];	// @[PTW.scala:270:18]
        r_req_vstage1 = _RANDOM_1[13];	// @[PTW.scala:270:18]
        r_req_stage2 = _RANDOM_1[14];	// @[PTW.scala:270:18]
        r_req_dest = _RANDOM_1[16:15];	// @[PTW.scala:270:18, :272:23]
        r_pte_ppn = {_RANDOM_1[31:27], _RANDOM_2, _RANDOM_3[6:0]};	// @[PTW.scala:270:18, :275:18]
        r_pte_d = _RANDOM_3[9];	// @[PTW.scala:275:18]
        r_pte_a = _RANDOM_3[10];	// @[PTW.scala:275:18]
        r_pte_g = _RANDOM_3[11];	// @[PTW.scala:275:18]
        r_pte_u = _RANDOM_3[12];	// @[PTW.scala:275:18]
        r_pte_x = _RANDOM_3[13];	// @[PTW.scala:275:18]
        r_pte_w = _RANDOM_3[14];	// @[PTW.scala:275:18]
        r_pte_r = _RANDOM_3[15];	// @[PTW.scala:275:18]
        r_pte_v = _RANDOM_3[16];	// @[PTW.scala:275:18]
        r_hgatp_ppn = {_RANDOM_4[31:5], _RANDOM_5[16:0]};	// @[PTW.scala:276:20]
        aux_count = _RANDOM_5[18:17];	// @[PTW.scala:276:20, :278:22]
        aux_pte_ppn = {_RANDOM_5[31:29], _RANDOM_6, _RANDOM_7[8:0]};	// @[PTW.scala:276:20, :280:20]
        aux_pte_d = _RANDOM_7[11];	// @[PTW.scala:280:20]
        aux_pte_a = _RANDOM_7[12];	// @[PTW.scala:280:20]
        aux_pte_g = _RANDOM_7[13];	// @[PTW.scala:280:20]
        aux_pte_u = _RANDOM_7[14];	// @[PTW.scala:280:20]
        aux_pte_x = _RANDOM_7[15];	// @[PTW.scala:280:20]
        aux_pte_w = _RANDOM_7[16];	// @[PTW.scala:280:20]
        aux_pte_r = _RANDOM_7[17];	// @[PTW.scala:280:20]
        aux_pte_v = _RANDOM_7[18];	// @[PTW.scala:280:20]
        stage2 = _RANDOM_7[31];	// @[PTW.scala:280:20, :283:19]
        stage2_final = _RANDOM_8[0];	// @[PTW.scala:284:25]
        mem_resp_valid = _RANDOM_8[1];	// @[PTW.scala:284:25, :293:31]
        mem_resp_data = {_RANDOM_8[31:2], _RANDOM_9, _RANDOM_10[1:0]};	// @[PTW.scala:284:25, :294:30]
        state_reg = _RANDOM_10[8:2];	// @[PTW.scala:294:30, Replacement.scala:168:70]
        valid = _RANDOM_10[16:9];	// @[PTW.scala:294:30, :364:24]
        tags_0 = {_RANDOM_10[31:17], _RANDOM_11[16:0]};	// @[PTW.scala:294:30, :365:19]
        tags_1 = {_RANDOM_11[31:17], _RANDOM_12[16:0]};	// @[PTW.scala:365:19]
        tags_2 = {_RANDOM_12[31:17], _RANDOM_13[16:0]};	// @[PTW.scala:365:19]
        tags_3 = {_RANDOM_13[31:17], _RANDOM_14[16:0]};	// @[PTW.scala:365:19]
        tags_4 = {_RANDOM_14[31:17], _RANDOM_15[16:0]};	// @[PTW.scala:365:19]
        tags_5 = {_RANDOM_15[31:17], _RANDOM_16[16:0]};	// @[PTW.scala:365:19]
        tags_6 = {_RANDOM_16[31:17], _RANDOM_17[16:0]};	// @[PTW.scala:365:19]
        tags_7 = {_RANDOM_17[31:17], _RANDOM_18[16:0]};	// @[PTW.scala:365:19]
        data_0 = {_RANDOM_18[31:17], _RANDOM_19[4:0]};	// @[PTW.scala:365:19, :367:19]
        data_1 = _RANDOM_19[24:5];	// @[PTW.scala:367:19]
        data_2 = {_RANDOM_19[31:25], _RANDOM_20[12:0]};	// @[PTW.scala:367:19]
        data_3 = {_RANDOM_20[31:13], _RANDOM_21[0]};	// @[PTW.scala:367:19]
        data_4 = _RANDOM_21[20:1];	// @[PTW.scala:367:19]
        data_5 = {_RANDOM_21[31:21], _RANDOM_22[8:0]};	// @[PTW.scala:367:19]
        data_6 = _RANDOM_22[28:9];	// @[PTW.scala:367:19]
        data_7 = {_RANDOM_22[31:29], _RANDOM_23[16:0]};	// @[PTW.scala:367:19]
        state_reg_1 = _RANDOM_23[23:17];	// @[PTW.scala:367:19, Replacement.scala:168:70]
        valid_1 = _RANDOM_23[31:24];	// @[PTW.scala:364:24, :367:19]
        tags_1_0 = _RANDOM_24;	// @[PTW.scala:365:19]
        tags_1_1 = _RANDOM_25;	// @[PTW.scala:365:19]
        tags_1_2 = _RANDOM_26;	// @[PTW.scala:365:19]
        tags_1_3 = _RANDOM_27;	// @[PTW.scala:365:19]
        tags_1_4 = _RANDOM_28;	// @[PTW.scala:365:19]
        tags_1_5 = _RANDOM_29;	// @[PTW.scala:365:19]
        tags_1_6 = _RANDOM_30;	// @[PTW.scala:365:19]
        tags_1_7 = _RANDOM_31;	// @[PTW.scala:365:19]
        data_1_0 = _RANDOM_32[19:0];	// @[PTW.scala:367:19]
        data_1_1 = {_RANDOM_32[31:20], _RANDOM_33[7:0]};	// @[PTW.scala:367:19]
        data_1_2 = _RANDOM_33[27:8];	// @[PTW.scala:367:19]
        data_1_3 = {_RANDOM_33[31:28], _RANDOM_34[15:0]};	// @[PTW.scala:367:19]
        data_1_4 = {_RANDOM_34[31:16], _RANDOM_35[3:0]};	// @[PTW.scala:367:19]
        data_1_5 = _RANDOM_35[23:4];	// @[PTW.scala:367:19]
        data_1_6 = {_RANDOM_35[31:24], _RANDOM_36[11:0]};	// @[PTW.scala:367:19]
        data_1_7 = _RANDOM_36[31:12];	// @[PTW.scala:367:19]
        pte_hit = _RANDOM_37[0];	// @[PTW.scala:404:24]
        l2_refill = _RANDOM_37[1];	// @[PTW.scala:404:24, :410:26]
        REG_0 = {_RANDOM_37[31:2], _RANDOM_38, _RANDOM_39, _RANDOM_40, _RANDOM_41, _RANDOM_42, _RANDOM_43, _RANDOM_44, _RANDOM_45, _RANDOM_46, _RANDOM_47, _RANDOM_48, _RANDOM_49, _RANDOM_50, _RANDOM_51, _RANDOM_52, _RANDOM_53[1:0]};	// @[PTW.scala:404:24, :433:16]
        REG_1_0 = {_RANDOM_53[31:2], _RANDOM_54, _RANDOM_55, _RANDOM_56, _RANDOM_57, _RANDOM_58, _RANDOM_59, _RANDOM_60, _RANDOM_61, _RANDOM_62, _RANDOM_63, _RANDOM_64, _RANDOM_65, _RANDOM_66, _RANDOM_67, _RANDOM_68, _RANDOM_69[1:0]};	// @[PTW.scala:433:16, :434:24]
        REG_4 = _RANDOM_69[3];	// @[PTW.scala:434:24, :481:27]
        REG_5 = _RANDOM_69[4];	// @[PTW.scala:434:24, :482:27]
        r_2 = {_RANDOM_69[31:5], _RANDOM_70[17:0]};	// @[PTW.scala:434:24, Reg.scala:19:16]
        r_3 = _RANDOM_70[18];	// @[Reg.scala:19:16]
        r_4_0 = _RANDOM_70[19];	// @[Reg.scala:19:16]
      `endif // RANDOMIZE_REG_INIT
    end // initial
    `ifdef FIRRTL_AFTER_INITIAL
      `FIRRTL_AFTER_INITIAL
    `endif // FIRRTL_AFTER_INITIAL
  `endif // not def SYNTHESIS
  Arbiter_20_boom arb (	// @[PTW.scala:236:19]
    .io_in_0_valid              (io_requestor_0_req_valid),
    .io_in_0_bits_valid         (io_requestor_0_req_bits_valid),
    .io_in_0_bits_bits_addr     (io_requestor_0_req_bits_bits_addr),
    .io_in_1_valid              (io_requestor_1_req_valid),
    .io_in_1_bits_bits_addr     (io_requestor_1_req_bits_bits_addr),
    .io_in_1_bits_bits_need_gpa (io_requestor_1_req_bits_bits_need_gpa),
    .io_in_1_bits_bits_vstage1  (io_requestor_1_req_bits_bits_vstage1),
    .io_in_1_bits_bits_stage2   (io_requestor_1_req_bits_bits_stage2),
    .io_out_ready               (_arb_io_out_ready_T_2),	// @[PTW.scala:240:43]
    .io_in_0_ready              (io_requestor_0_req_ready),
    .io_in_1_ready              (io_requestor_1_req_ready),
    .io_out_valid               (_arb_io_out_valid),
    .io_out_bits_valid          (_arb_io_out_bits_valid),
    .io_out_bits_bits_addr      (_arb_io_out_bits_bits_addr),
    .io_out_bits_bits_need_gpa  (_arb_io_out_bits_bits_need_gpa),
    .io_out_bits_bits_vstage1   (_arb_io_out_bits_bits_vstage1),
    .io_out_bits_bits_stage2    (_arb_io_out_bits_bits_stage2),
    .io_chosen                  (_arb_io_chosen)
  );
  l2_tlb_ram_0_boom l2_tlb_ram_0 (	// @[DescribedSRAM.scala:17:26]
    .RW0_addr  (writeEnable ? writeAddr : _T_180),	// @[DescribedSRAM.scala:17:26, PTW.scala:445:21, :484:54, package.scala:155:13]
    .RW0_en    (readEnable | writeEnable),	// @[DescribedSRAM.scala:17:26, PTW.scala:445:21, :479:31]
    .RW0_clk   (clock),
    .RW0_wmode (l2_refill),	// @[PTW.scala:410:26]
    .RW0_wdata ({^{r_req_addr[26:9], r_pte_ppn[19:0], r_pte_d, r_pte_a, r_pte_u, r_pte_x, r_pte_w, r_pte_r}, r_req_addr[26:9], r_pte_ppn[19:0], r_pte_d, r_pte_a, r_pte_u, r_pte_x, r_pte_w, r_pte_r}),	// @[Cat.scala:33:92, ECC.scala:72:55, PTW.scala:270:18, :275:18, :447:17, :454:17, :458:82, package.scala:155:13]
    .RW0_rdata (_l2_tlb_ram_0_RW0_rdata)
  );
  OptimizationBarrier_35_boom state_barrier (	// @[package.scala:259:25]
    .io_x (io_mem_s2_nack ? 3'h1 : mem_resp_valid ? {2'h0, _GEN_14} : _T_222 ? 3'h0 : _GEN_11[state]),	// @[PTW.scala:233:22, :240:30, :293:31, :384:15, :389:24, :410:26, :581:31, :585:18, :587:30, :621:35, :636:18, :641:35, :648:18, :683:{16,30}, :685:16, :689:25, :691:16, :692:21, :701:57, :711:19, :716:122, :732:25, :734:16]
    .io_y (_state_barrier_io_y)
  );
  OptimizationBarrier_36_boom r_pte_barrier (	// @[package.scala:259:25]
    .io_x_ppn (_r_pte_T_1 ? {24'h0, r_2[25:6]} : _r_pte_T_5 ? {24'h0, (hits[0] ? data_0 : 20'h0) | (hits[1] ? data_1 : 20'h0) | (hits[2] ? data_2 : 20'h0) | (hits[3] ? data_3 : 20'h0) | (hits[4] ? data_4 : 20'h0) | (hits[5] ? data_5 : 20'h0) | (hits[6] ? data_6 : 20'h0) | (hits[7] ? data_7 : 20'h0)} : do_switch ? {r_hgatp_ppn[43:2], 2'h0} : mem_resp_valid ? (_r_pte_T_8 ? {17'h0, _GEN_0 ? _T_15 : _leaf_T_5 ? {_T_15[26:9], aux_pte_ppn[8:0]} : {_T_15[26:18], aux_pte_ppn[17:0]}} & ((&_merged_pte_superpage_mask_T) | _merged_pte_superpage_mask_T == 2'h2 ? 44'hFFFFFFFFFFF : _merged_pte_superpage_mask_T == 2'h1 ? 44'hFFFFFFFFE00 : 44'hFFFFFFC0000) : {17'h0, _T_15}) : (&state) & ~homogeneous & count != 2'h2 ? (count[0] ? {r_pte_ppn[43:9], r_req_addr[8:0]} : {r_pte_ppn[43:18], r_req_addr[17:0]}) : _r_pte_T_23 ? (_arb_io_out_bits_bits_stage2 | _arb_io_out_bits_bits_vstage1 ? 44'h0 : io_dpath_ptbr_ppn) : r_pte_ppn),	// @[Cat.scala:33:92, Decoupled.scala:51:35, Mux.scala:27:73, :29:36, PTW.scala:233:22, :236:19, :259:18, :270:18, :275:18, :276:20, :280:20, :291:16, :293:31, :307:{13,19}, :313:93, :355:{49,79}, :367:19, :378:43, :491:59, :503:16, :551:36, :583:30, :644:32, :662:45, :663:{64,125}, :665:24, :670:{8,16}, :672:{8,50}, :674:8, :676:{8,28,56}, :678:{8,15,43,56,65}, :680:{8,29}, :689:25, :692:21, :769:13, :778:30, Reg.scala:19:16, package.scala:32:47, :33:{76,86}]
    .io_x_d   (_GEN_13 ? r_2[5] : _GEN_12 ? r_pte_d : _r_pte_T_8 ? aux_pte_d : mem_resp_data[7]),	// @[PTW.scala:275:18, :280:20, :294:30, :305:37, :491:59, :670:8, :674:8, :676:{28,56}, Reg.scala:19:16]
    .io_x_a   (_GEN_13 ? r_2[4] : _GEN_12 ? r_pte_a : _r_pte_T_8 ? aux_pte_a : mem_resp_data[6]),	// @[PTW.scala:275:18, :280:20, :294:30, :305:37, :491:59, :670:8, :674:8, :676:{28,56}, Reg.scala:19:16]
    .io_x_g   (_GEN_13 ? r_4_0 : _GEN_12 ? r_pte_g : _r_pte_T_8 ? aux_pte_g : mem_resp_data[5]),	// @[PTW.scala:275:18, :280:20, :294:30, :305:37, :670:8, :674:8, :676:{28,56}, Reg.scala:19:16]
    .io_x_u   (_GEN_13 ? r_2[3] : _GEN_12 ? r_pte_u : _r_pte_T_8 ? aux_pte_u : mem_resp_data[4]),	// @[PTW.scala:275:18, :280:20, :294:30, :305:37, :491:59, :670:8, :674:8, :676:{28,56}, Reg.scala:19:16]
    .io_x_x   (_GEN_13 ? r_2[2] : _GEN_12 ? r_pte_x : _r_pte_T_8 ? aux_pte_x : mem_resp_data[3]),	// @[PTW.scala:275:18, :280:20, :294:30, :305:37, :491:59, :670:8, :674:8, :676:{28,56}, Reg.scala:19:16]
    .io_x_w   (_GEN_13 ? r_2[1] : _GEN_12 ? r_pte_w : _r_pte_T_8 ? aux_pte_w : mem_resp_data[2]),	// @[PTW.scala:275:18, :280:20, :294:30, :305:37, :491:59, :670:8, :674:8, :676:{28,56}, Reg.scala:19:16]
    .io_x_r   (_GEN_13 ? r_2[0] : _GEN_12 ? r_pte_r : _r_pte_T_8 ? aux_pte_r : mem_resp_data[1]),	// @[PTW.scala:275:18, :280:20, :294:30, :305:37, :491:59, :670:8, :674:8, :676:{28,56}, Reg.scala:19:16]
    .io_x_v   (_r_pte_T_1 | _r_pte_T_5 | (_GEN_12 ? r_pte_v : _r_pte_T_8 ? aux_pte_v : aux_pte_pte_v)),	// @[PTW.scala:275:18, :280:20, :306:26, :308:36, :311:{106,114}, :670:{8,16}, :672:{8,50}, :674:8, :676:{28,56}]
    .io_y_ppn (_r_pte_barrier_io_y_ppn),
    .io_y_d   (_r_pte_barrier_io_y_d),
    .io_y_a   (_r_pte_barrier_io_y_a),
    .io_y_g   (_r_pte_barrier_io_y_g),
    .io_y_u   (_r_pte_barrier_io_y_u),
    .io_y_x   (_r_pte_barrier_io_y_x),
    .io_y_w   (_r_pte_barrier_io_y_w),
    .io_y_r   (_r_pte_barrier_io_y_r),
    .io_y_v   (_r_pte_barrier_io_y_v)
  );
  assign io_requestor_0_resp_valid = resp_valid_0;	// @[PTW.scala:242:27]
  assign io_requestor_0_resp_bits_ae_final = resp_ae_final;	// @[PTW.scala:261:26]
  assign io_requestor_0_resp_bits_pte_ppn = r_pte_ppn;	// @[PTW.scala:275:18]
  assign io_requestor_0_resp_bits_pte_d = r_pte_d;	// @[PTW.scala:275:18]
  assign io_requestor_0_resp_bits_pte_a = r_pte_a;	// @[PTW.scala:275:18]
  assign io_requestor_0_resp_bits_pte_g = r_pte_g;	// @[PTW.scala:275:18]
  assign io_requestor_0_resp_bits_pte_u = r_pte_u;	// @[PTW.scala:275:18]
  assign io_requestor_0_resp_bits_pte_x = r_pte_x;	// @[PTW.scala:275:18]
  assign io_requestor_0_resp_bits_pte_w = r_pte_w;	// @[PTW.scala:275:18]
  assign io_requestor_0_resp_bits_pte_r = r_pte_r;	// @[PTW.scala:275:18]
  assign io_requestor_0_resp_bits_pte_v = r_pte_v;	// @[PTW.scala:275:18]
  assign io_requestor_0_resp_bits_level = max_count;	// @[PTW.scala:290:25]
  assign io_requestor_0_resp_bits_homogeneous = homogeneous;	// @[PTW.scala:551:36]
  assign io_requestor_0_ptbr_mode = io_dpath_ptbr_mode;
  assign io_requestor_0_status_dprv = io_dpath_status_dprv;
  assign io_requestor_0_status_mxr = io_dpath_status_mxr;
  assign io_requestor_0_status_sum = io_dpath_status_sum;
  assign io_requestor_0_pmp_0_cfg_l = io_dpath_pmp_0_cfg_l;
  assign io_requestor_0_pmp_0_cfg_a = io_dpath_pmp_0_cfg_a;
  assign io_requestor_0_pmp_0_cfg_x = io_dpath_pmp_0_cfg_x;
  assign io_requestor_0_pmp_0_cfg_w = io_dpath_pmp_0_cfg_w;
  assign io_requestor_0_pmp_0_cfg_r = io_dpath_pmp_0_cfg_r;
  assign io_requestor_0_pmp_0_addr = io_dpath_pmp_0_addr;
  assign io_requestor_0_pmp_0_mask = io_dpath_pmp_0_mask;
  assign io_requestor_0_pmp_1_cfg_l = io_dpath_pmp_1_cfg_l;
  assign io_requestor_0_pmp_1_cfg_a = io_dpath_pmp_1_cfg_a;
  assign io_requestor_0_pmp_1_cfg_x = io_dpath_pmp_1_cfg_x;
  assign io_requestor_0_pmp_1_cfg_w = io_dpath_pmp_1_cfg_w;
  assign io_requestor_0_pmp_1_cfg_r = io_dpath_pmp_1_cfg_r;
  assign io_requestor_0_pmp_1_addr = io_dpath_pmp_1_addr;
  assign io_requestor_0_pmp_1_mask = io_dpath_pmp_1_mask;
  assign io_requestor_0_pmp_2_cfg_l = io_dpath_pmp_2_cfg_l;
  assign io_requestor_0_pmp_2_cfg_a = io_dpath_pmp_2_cfg_a;
  assign io_requestor_0_pmp_2_cfg_x = io_dpath_pmp_2_cfg_x;
  assign io_requestor_0_pmp_2_cfg_w = io_dpath_pmp_2_cfg_w;
  assign io_requestor_0_pmp_2_cfg_r = io_dpath_pmp_2_cfg_r;
  assign io_requestor_0_pmp_2_addr = io_dpath_pmp_2_addr;
  assign io_requestor_0_pmp_2_mask = io_dpath_pmp_2_mask;
  assign io_requestor_0_pmp_3_cfg_l = io_dpath_pmp_3_cfg_l;
  assign io_requestor_0_pmp_3_cfg_a = io_dpath_pmp_3_cfg_a;
  assign io_requestor_0_pmp_3_cfg_x = io_dpath_pmp_3_cfg_x;
  assign io_requestor_0_pmp_3_cfg_w = io_dpath_pmp_3_cfg_w;
  assign io_requestor_0_pmp_3_cfg_r = io_dpath_pmp_3_cfg_r;
  assign io_requestor_0_pmp_3_addr = io_dpath_pmp_3_addr;
  assign io_requestor_0_pmp_3_mask = io_dpath_pmp_3_mask;
  assign io_requestor_0_pmp_4_cfg_l = io_dpath_pmp_4_cfg_l;
  assign io_requestor_0_pmp_4_cfg_a = io_dpath_pmp_4_cfg_a;
  assign io_requestor_0_pmp_4_cfg_x = io_dpath_pmp_4_cfg_x;
  assign io_requestor_0_pmp_4_cfg_w = io_dpath_pmp_4_cfg_w;
  assign io_requestor_0_pmp_4_cfg_r = io_dpath_pmp_4_cfg_r;
  assign io_requestor_0_pmp_4_addr = io_dpath_pmp_4_addr;
  assign io_requestor_0_pmp_4_mask = io_dpath_pmp_4_mask;
  assign io_requestor_0_pmp_5_cfg_l = io_dpath_pmp_5_cfg_l;
  assign io_requestor_0_pmp_5_cfg_a = io_dpath_pmp_5_cfg_a;
  assign io_requestor_0_pmp_5_cfg_x = io_dpath_pmp_5_cfg_x;
  assign io_requestor_0_pmp_5_cfg_w = io_dpath_pmp_5_cfg_w;
  assign io_requestor_0_pmp_5_cfg_r = io_dpath_pmp_5_cfg_r;
  assign io_requestor_0_pmp_5_addr = io_dpath_pmp_5_addr;
  assign io_requestor_0_pmp_5_mask = io_dpath_pmp_5_mask;
  assign io_requestor_0_pmp_6_cfg_l = io_dpath_pmp_6_cfg_l;
  assign io_requestor_0_pmp_6_cfg_a = io_dpath_pmp_6_cfg_a;
  assign io_requestor_0_pmp_6_cfg_x = io_dpath_pmp_6_cfg_x;
  assign io_requestor_0_pmp_6_cfg_w = io_dpath_pmp_6_cfg_w;
  assign io_requestor_0_pmp_6_cfg_r = io_dpath_pmp_6_cfg_r;
  assign io_requestor_0_pmp_6_addr = io_dpath_pmp_6_addr;
  assign io_requestor_0_pmp_6_mask = io_dpath_pmp_6_mask;
  assign io_requestor_0_pmp_7_cfg_l = io_dpath_pmp_7_cfg_l;
  assign io_requestor_0_pmp_7_cfg_a = io_dpath_pmp_7_cfg_a;
  assign io_requestor_0_pmp_7_cfg_x = io_dpath_pmp_7_cfg_x;
  assign io_requestor_0_pmp_7_cfg_w = io_dpath_pmp_7_cfg_w;
  assign io_requestor_0_pmp_7_cfg_r = io_dpath_pmp_7_cfg_r;
  assign io_requestor_0_pmp_7_addr = io_dpath_pmp_7_addr;
  assign io_requestor_0_pmp_7_mask = io_dpath_pmp_7_mask;
  assign io_requestor_1_resp_valid = resp_valid_1;	// @[PTW.scala:242:27]
  assign io_requestor_1_resp_bits_ae_ptw = resp_ae_ptw;	// @[PTW.scala:260:24]
  assign io_requestor_1_resp_bits_ae_final = resp_ae_final;	// @[PTW.scala:261:26]
  assign io_requestor_1_resp_bits_pf = resp_pf;	// @[PTW.scala:262:20]
  assign io_requestor_1_resp_bits_gf = resp_gf;	// @[PTW.scala:263:20]
  assign io_requestor_1_resp_bits_hr = resp_hr;	// @[PTW.scala:264:20]
  assign io_requestor_1_resp_bits_hw = resp_hw;	// @[PTW.scala:265:20]
  assign io_requestor_1_resp_bits_hx = resp_hx;	// @[PTW.scala:266:20]
  assign io_requestor_1_resp_bits_pte_ppn = r_pte_ppn;	// @[PTW.scala:275:18]
  assign io_requestor_1_resp_bits_pte_d = r_pte_d;	// @[PTW.scala:275:18]
  assign io_requestor_1_resp_bits_pte_a = r_pte_a;	// @[PTW.scala:275:18]
  assign io_requestor_1_resp_bits_pte_g = r_pte_g;	// @[PTW.scala:275:18]
  assign io_requestor_1_resp_bits_pte_u = r_pte_u;	// @[PTW.scala:275:18]
  assign io_requestor_1_resp_bits_pte_x = r_pte_x;	// @[PTW.scala:275:18]
  assign io_requestor_1_resp_bits_pte_w = r_pte_w;	// @[PTW.scala:275:18]
  assign io_requestor_1_resp_bits_pte_r = r_pte_r;	// @[PTW.scala:275:18]
  assign io_requestor_1_resp_bits_pte_v = r_pte_v;	// @[PTW.scala:275:18]
  assign io_requestor_1_resp_bits_level = max_count;	// @[PTW.scala:290:25]
  assign io_requestor_1_resp_bits_homogeneous = homogeneous;	// @[PTW.scala:551:36]
  assign io_requestor_1_ptbr_mode = io_dpath_ptbr_mode;
  assign io_requestor_1_status_debug = io_dpath_status_debug;
  assign io_requestor_1_status_prv = io_dpath_status_prv;
  assign io_requestor_1_pmp_0_cfg_l = io_dpath_pmp_0_cfg_l;
  assign io_requestor_1_pmp_0_cfg_a = io_dpath_pmp_0_cfg_a;
  assign io_requestor_1_pmp_0_cfg_x = io_dpath_pmp_0_cfg_x;
  assign io_requestor_1_pmp_0_cfg_w = io_dpath_pmp_0_cfg_w;
  assign io_requestor_1_pmp_0_cfg_r = io_dpath_pmp_0_cfg_r;
  assign io_requestor_1_pmp_0_addr = io_dpath_pmp_0_addr;
  assign io_requestor_1_pmp_0_mask = io_dpath_pmp_0_mask;
  assign io_requestor_1_pmp_1_cfg_l = io_dpath_pmp_1_cfg_l;
  assign io_requestor_1_pmp_1_cfg_a = io_dpath_pmp_1_cfg_a;
  assign io_requestor_1_pmp_1_cfg_x = io_dpath_pmp_1_cfg_x;
  assign io_requestor_1_pmp_1_cfg_w = io_dpath_pmp_1_cfg_w;
  assign io_requestor_1_pmp_1_cfg_r = io_dpath_pmp_1_cfg_r;
  assign io_requestor_1_pmp_1_addr = io_dpath_pmp_1_addr;
  assign io_requestor_1_pmp_1_mask = io_dpath_pmp_1_mask;
  assign io_requestor_1_pmp_2_cfg_l = io_dpath_pmp_2_cfg_l;
  assign io_requestor_1_pmp_2_cfg_a = io_dpath_pmp_2_cfg_a;
  assign io_requestor_1_pmp_2_cfg_x = io_dpath_pmp_2_cfg_x;
  assign io_requestor_1_pmp_2_cfg_w = io_dpath_pmp_2_cfg_w;
  assign io_requestor_1_pmp_2_cfg_r = io_dpath_pmp_2_cfg_r;
  assign io_requestor_1_pmp_2_addr = io_dpath_pmp_2_addr;
  assign io_requestor_1_pmp_2_mask = io_dpath_pmp_2_mask;
  assign io_requestor_1_pmp_3_cfg_l = io_dpath_pmp_3_cfg_l;
  assign io_requestor_1_pmp_3_cfg_a = io_dpath_pmp_3_cfg_a;
  assign io_requestor_1_pmp_3_cfg_x = io_dpath_pmp_3_cfg_x;
  assign io_requestor_1_pmp_3_cfg_w = io_dpath_pmp_3_cfg_w;
  assign io_requestor_1_pmp_3_cfg_r = io_dpath_pmp_3_cfg_r;
  assign io_requestor_1_pmp_3_addr = io_dpath_pmp_3_addr;
  assign io_requestor_1_pmp_3_mask = io_dpath_pmp_3_mask;
  assign io_requestor_1_pmp_4_cfg_l = io_dpath_pmp_4_cfg_l;
  assign io_requestor_1_pmp_4_cfg_a = io_dpath_pmp_4_cfg_a;
  assign io_requestor_1_pmp_4_cfg_x = io_dpath_pmp_4_cfg_x;
  assign io_requestor_1_pmp_4_cfg_w = io_dpath_pmp_4_cfg_w;
  assign io_requestor_1_pmp_4_cfg_r = io_dpath_pmp_4_cfg_r;
  assign io_requestor_1_pmp_4_addr = io_dpath_pmp_4_addr;
  assign io_requestor_1_pmp_4_mask = io_dpath_pmp_4_mask;
  assign io_requestor_1_pmp_5_cfg_l = io_dpath_pmp_5_cfg_l;
  assign io_requestor_1_pmp_5_cfg_a = io_dpath_pmp_5_cfg_a;
  assign io_requestor_1_pmp_5_cfg_x = io_dpath_pmp_5_cfg_x;
  assign io_requestor_1_pmp_5_cfg_w = io_dpath_pmp_5_cfg_w;
  assign io_requestor_1_pmp_5_cfg_r = io_dpath_pmp_5_cfg_r;
  assign io_requestor_1_pmp_5_addr = io_dpath_pmp_5_addr;
  assign io_requestor_1_pmp_5_mask = io_dpath_pmp_5_mask;
  assign io_requestor_1_pmp_6_cfg_l = io_dpath_pmp_6_cfg_l;
  assign io_requestor_1_pmp_6_cfg_a = io_dpath_pmp_6_cfg_a;
  assign io_requestor_1_pmp_6_cfg_x = io_dpath_pmp_6_cfg_x;
  assign io_requestor_1_pmp_6_cfg_w = io_dpath_pmp_6_cfg_w;
  assign io_requestor_1_pmp_6_cfg_r = io_dpath_pmp_6_cfg_r;
  assign io_requestor_1_pmp_6_addr = io_dpath_pmp_6_addr;
  assign io_requestor_1_pmp_6_mask = io_dpath_pmp_6_mask;
  assign io_requestor_1_pmp_7_cfg_l = io_dpath_pmp_7_cfg_l;
  assign io_requestor_1_pmp_7_cfg_a = io_dpath_pmp_7_cfg_a;
  assign io_requestor_1_pmp_7_cfg_x = io_dpath_pmp_7_cfg_x;
  assign io_requestor_1_pmp_7_cfg_w = io_dpath_pmp_7_cfg_w;
  assign io_requestor_1_pmp_7_cfg_r = io_dpath_pmp_7_cfg_r;
  assign io_requestor_1_pmp_7_addr = io_dpath_pmp_7_addr;
  assign io_requestor_1_pmp_7_mask = io_dpath_pmp_7_mask;
  assign io_mem_req_valid = _T_223 | state == 3'h3;	// @[PTW.scala:233:22, :384:15, :389:24, :525:{39,48}]
  assign io_mem_req_bits_addr = {8'h0, r_pte_ppn[19:0], pte_addr_vpn_idx, 3'h0};	// @[PTW.scala:233:22, :275:18, :329:23, :530:24, package.scala:33:76]
  assign io_mem_s1_kill = l2_hit | state != 3'h2;	// @[PTW.scala:233:22, :384:15, :493:27, :534:{28,37}]
  assign io_dpath_perf_l2miss = REG_5 & ~_T_197;	// @[PTW.scala:482:27, :492:83, :494:{38,41}]
endmodule

